<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
  <head>
    <title>Vis</title>
    <meta charset="utf-8" />
    <link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="theme-color" content="#000000" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <script type="text/javascript" src="_socket/info.js"></script>
    <script>
      var script = document.createElement('script');
      window.registerSocketOnLoad = function (cb) {
        window.socketLoadedHandler = cb;
      };
      script.onload = function () { typeof window.socketLoadedHandler === 'function' && window.socketLoadedHandler(); };
      setTimeout(() => {
        script.src = window.location.port.startsWith('300') ? window.location.protocol + '//' + window.location.hostname + ':8082/lib/js/socket.io.js' : '%PUBLIC_URL%/../../lib/js/socket.io.js';
      }, 1000);

      document.head.appendChild(script);
    </script>
    <!--script type="text/javascript" src="%PUBLIC_URL%/../../socket.io/socket.io.js"></script-->
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
  </body>
  <script>
    // set background as early as possible
    var themeType = window.localStorage.getItem('App.themeType');
    themeType = themeType || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
    if (themeType === 'dark') {
      window.document.body.className += 'body-dark';
    } else {
      window.document.body.className += 'body-light';
    }
  </script>
</html>
