"use strict";(self.webpackChunkiobroker_vis_2_widgets_fullcalendar=self.webpackChunkiobroker_vis_2_widgets_fullcalendar||[]).push([["node_modules_iobroker_vis-2-widgets-react-dev_index_jsx-_adb41","node_modules_iobroker_vis-2-widgets-react-dev_index_jsx-_adb40"],{97345:function(t,e,n){var r=n(64836);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var a=r(n(64687)),i=r(n(18698)),o=r(n(17156)),u=r(n(56690)),s=r(n(89728)),c=r(n(66115)),l=r(n(61655)),d=r(n(94993)),f=r(n(73808)),g=r(n(38416)),v=r(n(4819)),p=n(94427),h=n(75606);function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){(0,g.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function k(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,f.default)(t);if(e){var a=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}var x=["background-color","border","background","background-image","background-position","background-repeat","background-size","background-clip","background-origin","color","box-sizing","border-width","border-style","border-color","border-radius","box-shadow","text-align","text-shadow","font-family","font-size","font-weight","line-height","font-style","font-variant","letter-spacing","word-spacing"],m=function(t){(0,l.default)(n,t);var e=k(n);function n(t){var r;return(0,u.default)(this,n),r=e.call(this,t),(0,g.default)((0,c.default)(r),"getIdSubscribeState",(function(t,e){return r.props.context.socket.getState(t).then((function(n){return e(t,n),r.props.context.socket.subscribeState(t,(function(n,r){return e(t,r)}))}))})),r.onStateChanged=r.onStateChanged.bind((0,c.default)(r)),r.state=b(b({},t),{},{values:{},data:JSON.parse(JSON.stringify(t.data||{})),style:JSON.parse(JSON.stringify(t.style||{})),rxData:JSON.parse(JSON.stringify(t.data||{})),rxStyle:JSON.parse(JSON.stringify(t.style||{}))}),r.linkContext={IDs:[]},r}return(0,s.default)(n,[{key:"renderWidgetBody",value:function(t){return null}},{key:"onStateUpdated",value:function(t,e){}},{key:"formatValue",value:function(t,e){var n;"number"===typeof t&&(t=0===e?Math.round(t):Math.round(100*t)/100,null!==(n=this.props.context.systemConfig)&&void 0!==n&&n.common&&this.props.context.systemConfig.common.isFloatComma&&(t=t.toString().replace(".",",")));return void 0===t||null===t?"":t.toString()}},{key:"wrapContent",value:function(t,e,n,r,a,i){var o,u=this,s=(null===i||void 0===i?void 0:i.Card)||p.Card,c=(null===i||void 0===i?void 0:i.CardContent)||p.CardContent,l=b({width:"calc(100% - 8px)",height:"calc(100% - 8px)",margin:4},null===(o=this.props.customSettings)||void 0===o||null===(o=o.viewStyle)||void 0===o?void 0:o.visCard);return Object.keys(this.state.rxStyle).forEach((function(t){var e=u.state.rxStyle[t];null!==e&&void 0!==e&&x.includes(t)&&(t=t.replace(/(-\w)/g,(function(t){return t[1].toUpperCase()})),l[t]=e)})),this.wrappedContent=!0,v.default.createElement(s,{className:"vis_rx_widget_card",style:l,onClick:a},v.default.createElement(c,{className:"vis_rx_widget_card_content",style:b({display:"flex",flexDirection:"column",alignItems:"center",height:"calc(100% - 32px)",paddingBottom:16,position:"relative"},n)},this.state.rxData.widgetTitle?v.default.createElement("div",{className:"vis_rx_widget_card_name",style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"}},v.default.createElement("div",{className:"vis_rx_widget_card_name_div",style:b({fontSize:24,paddingTop:0,paddingBottom:4},r)},this.state.rxData.widgetTitle),e||null):e||null,t))}},{key:"onStateChanged",value:function(t,e){if(e){var n=JSON.parse(JSON.stringify(this.state.values));Object.keys(e).forEach((function(r){return n["".concat(t,".").concat(r)]=e[r]})),this.onStateUpdated(t,e),this.setState({values:n})}}},{key:"componentDidMount",value:function(){var t=(0,o.default)(a.default.mark((function t(){var e,n,r=this;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(e=this.getWidgetInfo())||void 0===e||null===(e=e.visAttrs)||void 0===e||e.forEach((function(t){var e;return null===t||void 0===t||null===(e=t.fields)||void 0===e?void 0:e.forEach((function(t){"id"===(null===t||void 0===t?void 0:t.type)&&Object.keys(r.state.data).forEach((function(e){if(e.match(new RegExp("^".concat(t.name,"[0-9]*$")))){var n=r.state.data[e];r.linkContext.IDs.includes(n)||r.linkContext.IDs.push(n)}}))}))})),n=0;case 2:if(!(n<this.linkContext.IDs.length)){t.next=8;break}return t.next=5,this.getIdSubscribeState(this.linkContext.IDs[n],this.onStateChanged);case 5:n++,t.next=2;break;case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var t=this;this.linkContext.IDs.forEach((function(e){return t.props.context.socket.unsubscribeState(e,t.onStateChanged)}))}},{key:"getWidgetView",value:function(t,e){return v.default.createElement("div",{style:{width:"100%",height:"100%"}},"DEMO VIEW")}},{key:"render",value:function(){var t,e;return v.default.createElement("div",{style:{width:null===(t=this.state.style)||void 0===t?void 0:t.width,height:null===(e=this.state.style)||void 0===e?void 0:e.height}},this.renderWidgetBody({widget:{}}))}}],[{key:"getI18nPrefix",value:function(){return""}},{key:"getText",value:function(t){return t&&"object"===(0,i.default)(t)?t[h.I18n.getLanguage()]||t.en:t}},{key:"t",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return h.I18n.t.apply(h.I18n,["".concat(this.getI18nPrefix()).concat(t)].concat(n))}},{key:"getLanguage",value:function(){return h.I18n.getLanguage()}}]),n}(v.default.Component);(0,g.default)(m,"POSSIBLE_MUI_STYLES",x);var _=m;e.Z=_},25582:function(t,e,n){n.r(e),n.d(e,{VisRxWidget:function(){return r.Z},__esModule:function(){return r.X}});var r=n(97345)}}]);
//# sourceMappingURL=node_modules_iobroker_vis-2-widgets-react-dev_index_jsx-_adb41.132302f7.chunk.js.map