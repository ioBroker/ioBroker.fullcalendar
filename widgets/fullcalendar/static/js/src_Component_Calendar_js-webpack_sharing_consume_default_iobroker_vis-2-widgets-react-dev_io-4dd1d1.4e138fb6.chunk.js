"use strict";(self.webpackChunkiobroker_vis_2_widgets_fullcalendar=self.webpackChunkiobroker_vis_2_widgets_fullcalendar||[]).push([["src_Component_Calendar_js-webpack_sharing_consume_default_iobroker_vis-2-widgets-react-dev_io-4dd1d1"],{83178:function(Re,X,d){d.d(X,{Z:function(){return Ie}});var T=d(4819),q=d(15854),v=d.n(q),R=d(10651),W=d(58503),_=d(76516),p=d(40387),ee=d(24990),J=d(44251),te=d(10367),ne=d(51172),ae=d(25177),le=d(33841),ie=d(49582),re=d(36513),se=d(4302),ce=d(43007),oe=d(43223),de=d(96933),ue=d(93484),ve=d(80809),o=d(94427);function me(e,r){return e-r}function k(e){if(e==="*"||e==="?"||e==="")return e;const r=e.split(","),n=[];for(let s=0;s<r.length;s++){const m=r[s].match(/(\d+)-(\d+)/);if(m)for(let i=parseInt(m[1],10);i<=parseInt(m[2],10);i++)n.push(i);else n.push(parseInt(r[s],10))}return n}function Z(e,r){const n={};if(r){const s=r.split(/\D/);n.seconds=[parseInt(s[5],10)],n.minutes=[parseInt(s[4],10)],n.hours=[parseInt(s[3],10)],n.dates=[parseInt(s[2],10)],n.months=[parseInt(s[1],10)],n.dows="?"}else{const s=e.replace(/\s\s/g," ").replace(/\s\s/g," ").split(" ");s.length===6?(n.seconds=k(s[0]),n.minutes=k(s[1]),n.hours=k(s[2]),n.dates=k(s[3]),n.months=k(s[4]),n.dows=k(s[5])):(n.seconds=[0],n.minutes=k(s[0]),n.hours=k(s[1]),n.dates=k(s[2]),n.months=k(s[3]),n.dows=k(s[4]))}return n}function A(e){if(e==="*"||e==="?")return e;if(typeof e=="string"&&(e=parseInt(e,10)),typeof e!="object"&&(e=[e]),e.sort(me),e.length<3)return e.join(",");const r=[];let n=e[0],s=e[0];for(let m=1;m<e.length;m++)e[m]===s+1?s++:(n!==s?n+1===s?r.push(`${n},${s}`):r.push(`${n}-${s}`):r.push(n),n=e[m],s=e[m]);return n!==s?n+1===s?r.push(`${n},${s}`):r.push(`${n}-${s}`):r.push(n),r.join(",")}function I(e){const r=["*","*","*","*","*","?"];return e.seconds&&(r[0]=A(e.seconds)),r[1]=A(e.minutes),r[2]=A(e.hours),r[3]=A(e.dates),r[4]=A(e.months),r[5]=A(e.dows),r[0]==="0"&&r.shift(),r.join(" ")}function B(e,r,n){if(r==="cron"){const s=Z(e);let m=new Date;return m.setHours(s.hours[0],s.minutes[0]),m=new Date(m.getTime()-(m.getTimezoneOffset()+n)*6e4),m}return r==="date"?(e+="Z",new Date(new Date(e).getTime()-n*6e4)):null}function x(e,r,n){if(r==="cron")return e=new Date(e.getTime()+(e.getTimezoneOffset()+n)*6e4),{minutes:[e.getMinutes()],hours:[e.getHours()]};if(r==="date"){e=new Date(e.getTime()+n*6e4);const s=e.toISOString();return s.substring(0,s.length-5)}return null}var M=d(59665),L=d(75606),fe=d(71373),ge=d(38809),he=d(95431),ye=d(36105),H=d.n(ye),t=d(4819),Ee=Object.defineProperty,be=Object.defineProperties,Ce=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,Oe=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable,K=(e,r,n)=>r in e?Ee(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,De=(e,r)=>{for(var n in r||(r={}))Oe.call(r,n)&&K(e,n,r[n]);if(G)for(var n of G(r))Te.call(r,n)&&K(e,n,r[n]);return e},we=(e,r)=>be(e,Ce(r)),Q=(e,r,n)=>new Promise((s,m)=>{var i=E=>{try{y(n.next(E))}catch(a){m(a)}},O=E=>{try{y(n.throw(E))}catch(a){m(a)}},y=E=>E.done?s(E.value):Promise.resolve(E.value).then(i,O);y((n=n.apply(e,r)).next())});const ke={single:"single_description",double:"double_description",toggle:"toggle_description"},Se={field:{padding:"2px 0px"},tableCell:{textAlign:"center"},typeDescription:{fontSize:12,whiteSpace:"normal",fontStyle:"italic"},selectId:{display:"flex"}};function Ze(e,r){return e&&typeof e=="object"?e[r]||e.en:e}const U=e=>{const r=e.event.native.intervals&&e.event.native.intervals[0]&&e.event.native.intervals[0].timeOffset?e.event.native.intervals[0].timeOffset/6e4:0,n=e.event.native.intervals&&e.event.native.intervals[0]&&e.event.native.intervals[0].value!==void 0?e.event.native.intervals[0].value:"",[s,m]=(0,T.useState)(!1),[i,O]=(0,T.useState)(e.event),[y,E]=(0,T.useState)(null),[a,h]=(0,T.useState)(!1),[g,u]=(0,T.useState)(r),[D,N]=(0,T.useState)(n);(0,T.useEffect)(()=>{i.native.oid?e.socket.getObject(i.native.oid).then(l=>E(l)).catch(l=>{console.error(`Cannot get object ${i.native.oid}: ${l}`),E(null)}):E(null)},[i.native.oid,e.socket]);const $=i.native.cron?Z(i.native.cron):null;let S="once";Array.isArray($==null?void 0:$.months)?S="monthly":Array.isArray($==null?void 0:$.dows)&&(S="daily");let P;i&&(S==="once"?P=B(i.native.start,"date",e.serverTimeZone):(S==="monthly"||S==="daily")&&(P=B(i.native.cron,"cron",e.serverTimeZone)));const Pe=JSON.stringify(e.event)!==JSON.stringify(i)||g!==r||D!==n,w=l=>{const c=JSON.parse(JSON.stringify(i));l(c),O(c)},Be=(l,c)=>y?y.common.type==="boolean"?t.createElement(o.FormControlLabel,{control:t.createElement(o.Checkbox,{checked:!!i.native[l],disabled:e.readOnly,onChange:f=>{w(b=>b.native[l]=f.target.checked)}}),label:e.t(c)}):y.common.states?t.createElement(o.FormControl,{fullWidth:!0,variant:"standard"},t.createElement(o.InputLabel,null,e.t(c)),t.createElement(o.Select,{value:i.native[l]||"",disabled:e.readOnly,onChange:f=>w(b=>b.native[l]=f.target.value)},Object.keys(y.common.states).map(f=>t.createElement(o.MenuItem,{key:f,value:f},y.common.states[f])))):t.createElement(o.TextField,{label:e.t(c),value:i.native[l]||"",disabled:e.readOnly,onChange:f=>w(b=>b.native[l]=f.target.value),variant:"standard",fullWidth:!0}):null,Fe=()=>y?y.common.type==="boolean"?t.createElement(o.FormControlLabel,{control:t.createElement(o.Checkbox,{checked:!!D,disabled:e.readOnly,onChange:l=>N(l.target.checked)}),label:e.t("End value")}):y.common.states?t.createElement(o.FormControl,{fullWidth:!0,variant:"standard"},t.createElement(o.InputLabel,null,e.t("End value")),t.createElement(o.Select,{value:D||"",disabled:e.readOnly,onChange:l=>N(l.target.value)},Object.keys(y.common.states).map(l=>t.createElement(o.MenuItem,{key:l,value:l},y.common.states[l])))):t.createElement(o.TextField,{label:e.t("End value"),value:D||"",disabled:e.readOnly,onChange:l=>N(l.target.value),variant:"standard",fullWidth:!0}):null;return t.createElement(o.Dialog,{open:!0,onClose:e.onClose,fullWidth:!0},t.createElement(o.DialogTitle,null,e.t("Configure event")),t.createElement(o.DialogContent,null,s&&t.createElement(L.SelectID,{imagePrefix:"../..",selected:i.native.oid,disabled:e.readOnly,onOk:l=>{w(c=>c.native.oid=l),m(!1)},onClose:()=>m(!1),socket:e.socket}),t.createElement("div",{className:e.classes.field},t.createElement(o.FormControlLabel,{control:t.createElement(o.Checkbox,{checked:!!(i!=null&&i.common.enabled),disabled:e.readOnly,onChange:l=>w(c=>c.common.enabled=l.target.checked)}),label:e.t("Active")})),t.createElement("div",{className:e.classes.field},t.createElement(o.FormControl,{fullWidth:!0,variant:"standard"},t.createElement(o.InputLabel,null,e.t("Event type")),t.createElement(o.Select,{value:i.native.type||"",disabled:e.readOnly,onChange:l=>w(c=>c.native.type=l.target.value),renderValue:l=>e.t(l)},["single","double","toggle"].map(l=>t.createElement(o.MenuItem,{key:l,value:l},t.createElement("div",null,t.createElement("div",null,e.t(l)),t.createElement("div",{className:e.classes.typeDescription},e.t(ke[l])))))))),t.createElement("div",{className:e.classes.field},t.createElement(ge._,{dateAdapter:fe.Z},t.createElement(he.j,{label:e.t("Time"),value:P||null,disabled:e.readOnly,onChange:l=>{if(l)try{w(c=>{if(S==="once")c.native.start=x(l.toDate(),"date",e.serverTimeZone);else if(S==="monthly"||S==="daily"){const f=Z(c.native.cron),b=x(l.toDate(),"cron",e.serverTimeZone);f.hours=b.hours,f.minutes=b.minutes,c.native.cron=I(f)}})}catch(c){}},renderInput:l=>t.createElement(o.TextField,we(De({},l),{variant:"standard",fullWidth:!0})),ampm:!1}))),i.native.type!=="single"&&t.createElement("div",{className:e.classes.field},t.createElement(o.TextField,{label:e.t("Duration"),value:g,disabled:e.readOnly,onChange:l=>u(l.target.value),variant:"standard",fullWidth:!0,InputProps:{endAdornment:t.createElement(o.InputAdornment,{position:"end"},e.t("minutes"))}})),t.createElement("div",{className:e.classes.field},t.createElement("div",{className:e.classes.selectId},t.createElement(o.TextField,{label:"Object ID",value:i.native.oid||"",disabled:e.readOnly,onChange:l=>w(c=>c.native.oid=l.target.value),variant:"standard",helperText:Ze((y==null?void 0:y.common.name)||"",e.language),fullWidth:!0}),t.createElement(o.Button,{onClick:()=>m(!0)},"..."))),t.createElement("div",{className:e.classes.field},Be("startValue",i.native.type==="toggle"?"First value":"Start value")),i.native.type==="double"&&t.createElement("div",{className:e.classes.field},Fe()),t.createElement("div",{className:e.classes.field},t.createElement(o.FormControl,{fullWidth:!0,variant:"standard"},t.createElement(o.InputLabel,null,e.t("Period")),t.createElement(o.Select,{value:S||"once",disabled:e.readOnly,onChange:l=>{l.target.value!==i.native.cron&&w(c=>{if(l.target.value==="once")delete c.native.cron,c.native.start=x(P,"date",e.serverTimeZone);else if(l.target.value==="daily"){delete c.native.start;const f=Z("0 0 ? * 0-6"),b=x(P,"cron",e.serverTimeZone);f.hours=b.hours,f.minutes=b.minutes,c.native.cron=I(f)}else if(l.target.value==="monthly"){delete c.native.start;const f=Z("0 0 ? 1-12 ?"),b=x(P,"cron",e.serverTimeZone);f.hours=b.hours,f.minutes=b.minutes,c.native.cron=I(f)}})}},["once","daily","monthly"].map(l=>t.createElement(o.MenuItem,{key:l,value:l},e.t(l)))))),S==="monthly"&&t.createElement("div",{className:e.classes.field},t.createElement("table",null,t.createElement("tr",null,new Array(12).fill(null).map((l,c)=>t.createElement("td",{className:e.classes.tableCell},H()().month(c).format("MMM")))),t.createElement("tr",null,new Array(12).fill(null).map((l,c)=>{var f;return t.createElement("td",null,t.createElement(o.Checkbox,{checked:((f=$==null?void 0:$.months)==null?void 0:f.includes(c+1))||!1,disabled:e.readOnly,onChange:b=>{w(F=>{const j=Z(F.native.cron);b.target.checked?j.months.push(c+1):j.months=j.months.filter(z=>z!==c+1),F.native.cron=I(j)})},size:"small"}))})))),S==="daily"&&t.createElement("div",{className:e.classes.field},t.createElement("table",null,t.createElement("tr",null,new Array(7).fill(null).map((l,c)=>t.createElement("td",{className:e.classes.tableCell},H()().day(c).format("ddd")))),t.createElement("tr",null,new Array(7).fill(null).map((l,c)=>{var f;return t.createElement("td",null,t.createElement(o.Checkbox,{checked:((f=$==null?void 0:$.dows)==null?void 0:f.includes(c))||!1,disabled:e.readOnly,onChange:b=>{w(F=>{const j=Z(F.native.cron);b.target.checked?j.dows.push(c):j.dows=j.dows.filter(z=>z!==c),F.native.cron=I(j)})},size:"small"}))})))),t.createElement("div",{className:e.classes.field},t.createElement(o.TextField,{label:"Description",value:(i==null?void 0:i.common.name)||"",disabled:e.readOnly,onChange:l=>w(c=>c.common.name=l.target.value),variant:"standard",fullWidth:!0})),t.createElement("div",{className:e.classes.field},t.createElement(L.ColorPicker,{value:i.native.color||"",disabled:e.readOnly,onChange:l=>w(c=>c.native.color=l),name:e.t("Color")}))),t.createElement(o.DialogActions,null,e.readOnly?null:t.createElement(o.Button,{variant:"contained",color:"secondary",startIcon:t.createElement(M.Delete,null),onClick:()=>h(!0)},e.t("Delete")),!e.readOnly&&!e.widget?t.createElement("div",{style:{flex:1}}):null,e.readOnly?null:t.createElement(o.Button,{variant:"contained",color:"primary",disabled:!Pe,startIcon:t.createElement(M.Save,null),onClick:()=>Q(void 0,null,function*(){i.native.type==="single"?i.native.intervals&&delete i.native.intervals:i.native.type==="double"?(i.native.intervals=i.native.intervals||[],i.native.intervals[0]=i.native.intervals[0]||{},i.native.intervals[0].timeOffset=(parseFloat(g)||1)*6e4,i.native.intervals[0].value=D):i.native.type==="toggle"&&(i.native.intervals=i.native.intervals||[],i.native.intervals[0]=i.native.intervals[0]||{},i.native.intervals[0].timeOffset=(parseFloat(g)||1)*6e4),yield e.socket.setObject(i._id,i),e.updateEvents(),e.onClose()})},e.t("Save")),t.createElement(o.Button,{variant:"contained",color:"grey",startIcon:t.createElement(M.Cancel,null),onClick:e.onClose},e.readOnly?e.t("Close"):e.t("Cancel"))),a&&t.createElement(L.Confirm,{title:e.t("Delete event"),text:e.t("Event will be deleted. Confirm?"),suppressQuestionMinutes:5,dialogName:"deleteConfirmDialog",onClose:l=>Q(void 0,null,function*(){if(l){try{yield e.socket.delObject(i._id),e.updateEvents()}catch(c){window.alert(`Cannot delete event: ${c}`)}e.onClose()}h(!1)})}))};U.propTypes={classes:v().object.isRequired,socket:v().object.isRequired,onClose:v().func.isRequired,event:v().object,readOnly:v().bool,updateEvents:v().func.isRequired,serverTimeZone:v().number.isRequired,t:v().func.isRequired,language:v().string.isRequired,widget:v().bool};var xe=(0,W.withStyles)(Se)(U),C=d(4819),V=(e,r,n)=>new Promise((s,m)=>{var i=E=>{try{y(n.next(E))}catch(a){m(a)}},O=E=>{try{y(n.throw(E))}catch(a){m(a)}},y=E=>E.done?s(E.value):Promise.resolve(E.value).then(i,O);y((n=n.apply(e,r)).next())});const Ne=[{type:"single",name:"Single event"},{type:"double",name:"Double event"},{type:"toggle",name:"Toggle event"}],je=({type:e,t:r})=>{const n=(0,T.useRef)(null);return(0,T.useEffect)(()=>{const s=new J._l(n.current,{eventData:()=>({id:e.type,title:r(e.name),create:!0,extendedProps:{type:e.type}})});return()=>{s.destroy()}},[]),C.createElement("div",{style:{backgroundColor:"rgb(58, 135, 178)",color:"white",cursor:"pointer",fontSize:"14px",padding:"3px 4px 6px 8px",borderRadius:4,marginBottom:20},ref:n},r(e.name))},$e=()=>({container:{display:"flex",height:"100%",width:"100%"},leftBlock:{width:200},calendarBlock:{flex:1,display:"flex"},calendar:{marginRight:20,width:"100%"},leftPaper:{margin:20},leftContent:{display:"flex",flexDirection:"column",padding:"20px 10px"},hr:{width:"100%"}});function Ae(e){return e.startsWith("#")?e.length===4?`#${e[1]}${e[1]}${e[2]}${e[2]}${e[3]}${e[3]}50`:`${e.substring(0,7)}50`:e.startsWith("rgb(")?e.replace("rgb(","rgba(").replace(")",", 0.3)"):e.startsWith("rgba(")?e.replace(/,\s?[.\d]+\)$/,", 0.3)"):e}function Y(e){const[r,n]=(0,T.useState)(null),s=e.storageName||"calendar",m=(0,T.useRef)(null),i=(0,T.useRef)(null),O=(0,T.useRef)(null),y=!e.widget&&window.localStorage.getItem(`${s}Start`)?new Date(parseInt(window.localStorage.getItem(`${s}Start`),10)):new Date,E=e.events.map(a=>{var h;const g=(h=a==null?void 0:a.native)!=null&&h.intervals&&a.native.intervals[0]&&a.native.intervals[0].timeOffset?a.native.intervals[0].timeOffset:0;if(a.native.cron){const u=B(a.native.cron,"cron",e.serverTimeZone),D=Z(a.native.cron);return u.setFullYear(1970),Array.isArray(D.months)?{id:a._id,title:a.common.name,backgroundColor:a.native.color,start:u,duration:g,allDay:!1,rrule:{dtstart:new Date(u.getTime()-u.getTimezoneOffset()*6e4),freq:"daily",bymonth:D.months}}:Array.isArray(D.dows)?{id:a._id,title:a.common.name,backgroundColor:a.native.color,start:u,duration:g,allDay:!1,display:"block",rrule:{dtstart:new Date(u.getTime()-u.getTimezoneOffset()*6e4),freq:"weekly",byweekday:D.dows.map(N=>N===0?6:N-1)}}:{id:a._id,title:a.common.name,backgroundColor:a.native.color}}return{id:a._id,title:a.common.name,display:"block",backgroundColor:a.common.enabled?a.native.color:Ae(a.native.color),start:B(a.native.start,"date",e.serverTimeZone),end:B(new Date(new Date(a.native.start).getTime()+g),"date",e.serverTimeZone)}});return(0,T.useEffect)(()=>{if(e.widget){const a=()=>{var h;const g=(h=m.current)==null?void 0:h.getApi();g&&(console.log("Scroll to now"),g.scrollToTime(new Date().getTime())),i.current?O.current=null:O.current=setTimeout(()=>a,3e5)};setTimeout(a,1e3)}return()=>{O.current&&clearTimeout(O.current),O.current=null,i.current&&clearTimeout(i.current),i.current=null}},[]),C.createElement(C.Fragment,null,C.createElement("style",null,e.theme.palette.mode==="dark"?`
:root {
    --fc-neutral-bg-color: hsla(0,0%,12%);
    --fc-list-event-hover-bg-color: hsla(0,0%,12%);
}
.fc-col-header-cell {
    background-color: #1e1e1e;
}                
`:`
.fc-col-header-cell {
    background-color: #EEEEEE;
}
`),r?C.createElement(xe,{widget:e.widget,event:e.events.find(a=>a._id===r),onClose:()=>n(null),socket:e.socket,updateEvents:e.updateEvents,serverTimeZone:e.serverTimeZone,readOnly:e.readOnly,t:e.t,language:e.language}):null,C.createElement("div",{className:e.classes.container},!e.hideLeftBlock&&!e.readOnly&&C.createElement("div",{className:e.classes.leftBlock},C.createElement(o.Paper,{elevation:4,className:e.classes.leftPaper},C.createElement("div",{className:e.classes.leftContent},C.createElement("h4",null,e.t("Events")),Ne.map((a,h)=>C.createElement(je,{t:e.t,type:a,name:e.t(a.name),key:a.type,index:h})),e.hideLeftBlockHint?null:C.createElement("div",null,e.t("Drag and drop the events above to create a new one.")),e.hideLeftBlockHint?null:C.createElement("hr",{className:e.classes.hr}),e.hideLeftBlockHint?null:C.createElement("div",null,e.t("Use ALT by dragging it to copy the events."))))),C.createElement("div",{className:e.classes.calendarBlock},C.createElement("div",{className:e.classes.calendar},C.createElement(_.Z,{ref:m,plugins:[ne.Z,p.Z,ee.Z,J.ZP,te.Z],weekends:!e.hideWeekends,headerToolbar:e.hideTopBlock?!1:{left:e.hideTopBlockButtons?"":"prev,next today",center:"title",right:e.hideTopBlockButtons?"":"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},initialView:e.viewMode||window.localStorage.getItem(`${s}View`)||"dayGridMonth",initialDate:y,editable:!e.readOnly,selectable:!0,selectMirror:!0,dayMaxEvents:!0,events:E,height:"calc(100% - 20px)",locales:[ae.Z,le.Z,ie.Z,re.Z,se.Z,ce.Z,oe.Z,de.Z,ue.Z,ve.Z],locale:e.language,datesSet:a=>{e.widget?(O.current&&clearTimeout(O.current),O.current=null,i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{i.current=null;const h=()=>{var g;const u=(g=m.current)==null?void 0:g.getApi();u==null||u.scrollToTime(new Date().getTime()),i.current?O.current=null:O.current=setTimeout(()=>h,1e3*60*5)};h()},6e4)):(window.localStorage.setItem(`${s}Start`,a.view.currentStart.getTime()),window.localStorage.setItem(`${s}View`,a.view.type))},eventClick:a=>n(a.event.id),eventResize:a=>{var h;const g=e.events.find(u=>u._id===a.event.id);if((h=g.native.intervals)!=null&&h[0].timeOffset){const u=JSON.parse(JSON.stringify(g));u.native.intervals[0].timeOffset+=a.endDelta.milliseconds,e.socket.setObject(u._id,u),e.updateEvents()}else a.revert()},eventDrop:a=>V(this,null,function*(){var h;const g=e.events.find(u=>u._id===a.event.id);if((h=g==null?void 0:g.native)!=null&&h.cron){const u=JSON.parse(JSON.stringify(g));a.jsEvent.altKey&&(u._id=`fullcalendar.${e.instance}.event-${(0,R.Z)()}`);const D=Z(u.native.cron),N=x(a.event.start,"cron",e.serverTimeZone);D.hours=N.hours,D.minutes=N.minutes,u.native.cron=I(D),yield e.socket.setObject(u._id,u),e.updateEvents()}else{const u=JSON.parse(JSON.stringify(g));a.jsEvent.altKey&&(u._id=`fullcalendar.${e.instance}.event-${(0,R.Z)()}`),u.native.start=x(a.event.start,"date",e.serverTimeZone),yield e.socket.setObject(u._id,u),e.updateEvents()}}),eventReceive:a=>V(this,null,function*(){const h={_id:`fullcalendar.${e.instance}.event-${(0,R.Z)()}`,common:{name:a.event.title,enabled:!0},native:{id:Date.now(),start:x(a.event.start,"date",e.serverTimeZone),type:a.event.extendedProps.type,durationEditable:!1,oid:"",startValue:"",color:"#3A87AD"},type:"schedule"};a.event.extendedProps.type!=="single"&&(h.native.intervals=[{timeOffset:30*60*1e3}]),yield e.socket.setObject(h._id,h),e.updateEvents(),setTimeout(()=>n(h._id),100)}),select:a=>V(this,null,function*(){if(a.view.calendar.unselect(),e.readOnly)return;console.log("ADD",a);const g={_id:`fullcalendar.${e.instance}.event-${(0,R.Z)()}`,common:{name:e.t("Single event"),enabled:!0},native:{id:Date.now(),start:x(a.date||a.start,"date",e.serverTimeZone),intervals:a.end?[{value:"",timeOffset:a.end.getTime()-a.start.getTime()}]:void 0,type:a.end?"double":"single",durationEditable:!!a.end,oid:"",startValue:"",color:"#3A87AD"},type:"schedule"};yield e.socket.setObject(g._id,g),yield e.updateEvents(),setTimeout(()=>n(g._id),100)})})))))}Y.propTypes={events:v().array,serverTimeZone:v().number,theme:v().object,socket:v().object,readOnly:v().bool,hideLeftBlock:v().bool,hideTopBlock:v().bool,hideLeftBlockHint:v().bool,hideTopBlockButtons:v().bool,hideWeekends:v().bool,viewMode:v().bool,updateEvents:v().func,instance:v().oneOfType([v().string,v().number]),t:v().func.isRequired,widget:v().bool,language:v().string.isRequired,storageName:v().string};var Ie=(0,W.withTheme)((0,W.withStyles)($e)(Y))}}]);

//# sourceMappingURL=src_Component_Calendar_js-webpack_sharing_consume_default_iobroker_vis-2-widgets-react-dev_io-4dd1d1.4e138fb6.chunk.js.map