"use strict";(self.webpackChunkiobroker_vis_2_widgets_fullcalendar=self.webpackChunkiobroker_vis_2_widgets_fullcalendar||[]).push([["src_Component_Calendar_js-webpack_sharing_consume_default_iobroker_vis-2-widgets-react-dev_io-4dd1d1"],{83178:function(Fe,q,d){d.d(q,{Z:function(){return Ie}});var D=d(4819),_=d(15854),u=d.n(_),M=d(10651),L=d(58503),p=d(76516),ee=d(40387),te=d(24990),G=d(44251),ne=d(10367),le=d(51172),ae=d(25177),ie=d(33841),re=d(49582),se=d(36513),oe=d(4302),ce=d(43007),de=d(43223),ue=d(96933),ve=d(93484),me=d(80809),c=d(94427);function fe(e,r){return e-r}function k(e){if(e==="*"||e==="?"||e==="")return e;const r=e.split(","),l=[];for(let s=0;s<r.length;s++){const v=r[s].match(/(\d+)-(\d+)/);if(v)for(let a=parseInt(v[1],10);a<=parseInt(v[2],10);a++)l.push(a);else l.push(parseInt(r[s],10))}return l}function Z(e,r){const l={};if(r){const s=r.split(/\D/);l.seconds=[parseInt(s[5],10)],l.minutes=[parseInt(s[4],10)],l.hours=[parseInt(s[3],10)],l.dates=[parseInt(s[2],10)],l.months=[parseInt(s[1],10)],l.dows="?"}else{const s=e.replace(/\s\s/g," ").replace(/\s\s/g," ").split(" ");s.length===6?(l.seconds=k(s[0]),l.minutes=k(s[1]),l.hours=k(s[2]),l.dates=k(s[3]),l.months=k(s[4]),l.dows=k(s[5])):(l.seconds=[0],l.minutes=k(s[0]),l.hours=k(s[1]),l.dates=k(s[2]),l.months=k(s[3]),l.dows=k(s[4]))}return l}function I(e){if(e==="*"||e==="?")return e;if(typeof e=="string"&&(e=parseInt(e,10)),typeof e!="object"&&(e=[e]),e.sort(fe),e.length<3)return e.join(",");const r=[];let l=e[0],s=e[0];for(let v=1;v<e.length;v++)e[v]===s+1?s++:(l!==s?l+1===s?r.push(`${l},${s}`):r.push(`${l}-${s}`):r.push(l),l=e[v],s=e[v]);return l!==s?l+1===s?r.push(`${l},${s}`):r.push(`${l}-${s}`):r.push(l),r.join(",")}function P(e){const r=["*","*","*","*","*","?"];return e.seconds&&(r[0]=I(e.seconds)),r[1]=I(e.minutes),r[2]=I(e.hours),r[3]=I(e.dates),r[4]=I(e.months),r[5]=I(e.dows),r[0]==="0"&&r.shift(),r.join(" ")}function F(e,r,l){if(r==="cron"){const s=Z(e);let v=new Date;return v.setHours(s.hours[0],s.minutes[0]),v=new Date(v.getTime()-(v.getTimezoneOffset()+l)*6e4),v}return r==="date"?(e+="Z",new Date(new Date(e).getTime()-l*6e4)):null}function N(e,r,l){if(r==="cron")return e=new Date(e.getTime()+(e.getTimezoneOffset()+l)*6e4),{minutes:[e.getMinutes()],hours:[e.getHours()]};if(r==="date"){e=new Date(e.getTime()+l*6e4);const s=e.toISOString();return s.substring(0,s.length-5)}return null}var W=d(59665),V=d(75606),ge=d(71373),he=d(38809),ye=d(95431),Ee=d(36105),K=d.n(Ee),n=d(4819),be=Object.defineProperty,Oe=Object.defineProperties,Ce=Object.getOwnPropertyDescriptors,Q=Object.getOwnPropertySymbols,Te=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable,U=(e,r,l)=>r in e?be(e,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[r]=l,we=(e,r)=>{for(var l in r||(r={}))Te.call(r,l)&&U(e,l,r[l]);if(Q)for(var l of Q(r))De.call(r,l)&&U(e,l,r[l]);return e},ke=(e,r)=>Oe(e,Ce(r)),z=(e,r,l)=>new Promise((s,v)=>{var a=E=>{try{y(l.next(E))}catch(t){v(t)}},C=E=>{try{y(l.throw(E))}catch(t){v(t)}},y=E=>E.done?s(E.value):Promise.resolve(E.value).then(a,C);y((l=l.apply(e,r)).next())});const Se={single:"single_description",double:"double_description",toggle:"toggle_description"},xe={field:{padding:"2px 0px"},tableCell:{textAlign:"center"},typeDescription:{fontSize:12,whiteSpace:"normal",fontStyle:"italic"},selectId:{display:"flex"}},Y=e=>{const r=e.event.native.intervals&&e.event.native.intervals[0]&&e.event.native.intervals[0].timeOffset?e.event.native.intervals[0].timeOffset/6e4:0,l=e.event.native.intervals&&e.event.native.intervals[0]&&e.event.native.intervals[0].value!==void 0?e.event.native.intervals[0].value:"",[s,v]=(0,D.useState)(!1),[a,C]=(0,D.useState)(e.event),[y,E]=(0,D.useState)(null),[t,g]=(0,D.useState)(!1),[h,m]=(0,D.useState)(r),[T,S]=(0,D.useState)(l),B=i=>z(void 0,null,function*(){E(i?yield e.socket.getObject(i):null)});(0,D.useEffect)(()=>{C(e.event),B(a==null?void 0:a.native.oid)},[e.open]);const A=a!=null&&a.native.cron?Z(a==null?void 0:a.native.cron):null;let x="once";Array.isArray(A==null?void 0:A.months)?x="monthly":Array.isArray(A==null?void 0:A.dows)&&(x="daily");let $;a&&(x==="once"?$=F(a.native.start,"date",e.serverTimeZone):(x==="monthly"||x==="daily")&&($=F(a.native.cron,"cron",e.serverTimeZone)));const Pe=JSON.stringify(e.event)!==JSON.stringify(a)||h!==r||T!==l,w=i=>{const o=JSON.parse(JSON.stringify(a));i(o),C(o)},Be=(i,o)=>y?y.common.type==="boolean"?n.createElement(c.FormControlLabel,{control:n.createElement(c.Checkbox,{checked:!!(a!=null&&a.native[i]),disabled:e.readOnly,onChange:f=>{w(b=>b.native[i]=f.target.checked)}}),label:e.t(o)}):y.common.states?n.createElement(c.FormControl,{fullWidth:!0,variant:"standard"},n.createElement(c.InputLabel,null,e.t(o)),n.createElement(c.Select,{value:(a==null?void 0:a.native[i])||"",disabled:e.readOnly,onChange:f=>w(b=>b.native[i]=f.target.value)},Object.keys(y.common.states).map(f=>n.createElement(c.MenuItem,{key:f,value:f},y.common.states[f])))):n.createElement(c.TextField,{label:e.t(o),value:(a==null?void 0:a.native[i])||"",disabled:e.readOnly,onChange:f=>w(b=>b.native[i]=f.target.value),variant:"standard",fullWidth:!0}):null,$e=()=>y?y.common.type==="boolean"?n.createElement(c.FormControlLabel,{control:n.createElement(c.Checkbox,{checked:!!T,disabled:e.readOnly,onChange:i=>S(i.target.checked)}),label:e.t("End value")}):y.common.states?n.createElement(c.FormControl,{fullWidth:!0,variant:"standard"},n.createElement(c.InputLabel,null,e.t("End value")),n.createElement(c.Select,{value:T||"",disabled:e.readOnly,onChange:i=>S(i.target.value)},Object.keys(y.common.states).map(i=>n.createElement(c.MenuItem,{key:i,value:i},y.common.states[i])))):n.createElement(c.TextField,{label:e.t("End value"),value:T||"",disabled:e.readOnly,onChange:i=>S(i.target.value),variant:"standard",fullWidth:!0}):null;return n.createElement(c.Dialog,{open:e.open,onClose:e.onClose,fullWidth:!0},n.createElement(c.DialogTitle,null,e.t("Configure event")),n.createElement(c.DialogContent,null,s&&n.createElement(V.SelectID,{imagePrefix:"../..",selected:a==null?void 0:a.native.oid,disabled:e.readOnly,onOk:i=>{w(o=>o.native.oid=i),v(!1),B(i)},onClose:()=>v(!1),socket:e.socket}),n.createElement("div",{className:e.classes.field},n.createElement(c.FormControlLabel,{control:n.createElement(c.Checkbox,{checked:!!(a!=null&&a.common.enabled),disabled:e.readOnly,onChange:i=>w(o=>o.common.enabled=i.target.checked)}),label:e.t("Active")})),n.createElement("div",{className:e.classes.field},n.createElement(c.FormControl,{fullWidth:!0,variant:"standard"},n.createElement(c.InputLabel,null,e.t("Event type")),n.createElement(c.Select,{value:(a==null?void 0:a.native.type)||"",disabled:e.readOnly,onChange:i=>w(o=>o.native.type=i.target.value),renderValue:i=>e.t(i)},["single","double","toggle"].map(i=>n.createElement(c.MenuItem,{key:i,value:i},n.createElement("div",null,n.createElement("div",null,e.t(i)),n.createElement("div",{className:e.classes.typeDescription},e.t(Se[i])))))))),n.createElement("div",{className:e.classes.field},n.createElement(he._,{dateAdapter:ge.Z},n.createElement(ye.j,{label:e.t("Time"),value:$||null,disabled:e.readOnly,onChange:i=>{if(i)try{w(o=>{if(x==="once")o.native.start=N(i.toDate(),"date",e.serverTimeZone);else if(x==="monthly"||x==="daily"){const f=Z(o.native.cron),b=N(i.toDate(),"cron",e.serverTimeZone);f.hours=b.hours,f.minutes=b.minutes,o.native.cron=P(f)}})}catch(o){}},renderInput:i=>n.createElement(c.TextField,ke(we({},i),{variant:"standard",fullWidth:!0})),ampm:!1}))),(a==null?void 0:a.native.type)!=="single"&&n.createElement("div",{className:e.classes.field},n.createElement(c.TextField,{label:e.t("Duration"),value:h,disabled:e.readOnly,onChange:i=>m(i.target.value),variant:"standard",fullWidth:!0,InputProps:{endAdornment:n.createElement(c.InputAdornment,{position:"end"},e.t("minutes"))}})),n.createElement("div",{className:e.classes.field},n.createElement("div",{className:e.classes.selectId},n.createElement(c.TextField,{label:"Object ID",value:(a==null?void 0:a.native.oid)||"",disabled:e.readOnly,onChange:i=>{w(o=>o.native.oid=i.target.value),B(i.target.value)},variant:"standard",fullWidth:!0}),n.createElement(c.Button,{onClick:()=>v(!0)},"..."))),n.createElement("div",{className:e.classes.field},Be("startValue",(a==null?void 0:a.native.type)==="toggle"?"First value":"Start value")),(a==null?void 0:a.native.type)==="double"&&n.createElement("div",{className:e.classes.field},$e()),n.createElement("div",{className:e.classes.field},n.createElement(c.FormControl,{fullWidth:!0,variant:"standard"},n.createElement(c.InputLabel,null,e.t("Period")),n.createElement(c.Select,{value:x||"once",disabled:e.readOnly,onChange:i=>{i.target.value!==a.native.cron&&w(o=>{if(i.target.value==="once")delete o.native.cron,o.native.start=N($,"date",e.serverTimeZone);else if(i.target.value==="daily"){delete o.native.start;const f=Z("0 0 ? * 0-6"),b=N($,"cron",e.serverTimeZone);f.hours=b.hours,f.minutes=b.minutes,o.native.cron=P(f)}else if(i.target.value==="monthly"){delete o.native.start;const f=Z("0 0 ? 1-12 ?"),b=N($,"cron",e.serverTimeZone);f.hours=b.hours,f.minutes=b.minutes,o.native.cron=P(f)}})}},["once","daily","monthly"].map(i=>n.createElement(c.MenuItem,{key:i,value:i},e.t(i)))))),x==="monthly"&&n.createElement("div",{className:e.classes.field},n.createElement("table",null,n.createElement("tr",null,new Array(12).fill(null).map((i,o)=>n.createElement("td",{className:e.classes.tableCell},K()().month(o).format("MMM")))),n.createElement("tr",null,new Array(12).fill(null).map((i,o)=>{var f;return n.createElement("td",null,n.createElement(c.Checkbox,{checked:((f=A==null?void 0:A.months)==null?void 0:f.includes(o+1))||!1,disabled:e.readOnly,onChange:b=>{w(R=>{const j=Z(R.native.cron);b.target.checked?j.months.push(o+1):j.months=j.months.filter(H=>H!==o+1),R.native.cron=P(j)})},size:"small"}))})))),x==="daily"&&n.createElement("div",{className:e.classes.field},n.createElement("table",null,n.createElement("tr",null,new Array(7).fill(null).map((i,o)=>n.createElement("td",{className:e.classes.tableCell},K()().day(o).format("ddd")))),n.createElement("tr",null,new Array(7).fill(null).map((i,o)=>{var f;return n.createElement("td",null,n.createElement(c.Checkbox,{checked:((f=A==null?void 0:A.dows)==null?void 0:f.includes(o))||!1,disabled:e.readOnly,onChange:b=>{w(R=>{const j=Z(R.native.cron);b.target.checked?j.dows.push(o):j.dows=j.dows.filter(H=>H!==o),R.native.cron=P(j)})},size:"small"}))})))),n.createElement("div",{className:e.classes.field},n.createElement(c.TextField,{label:"Description",value:(a==null?void 0:a.common.name)||"",disabled:e.readOnly,onChange:i=>w(o=>o.common.name=i.target.value),variant:"standard",fullWidth:!0})),n.createElement("div",{className:e.classes.field},n.createElement(V.ColorPicker,{value:(a==null?void 0:a.native.color)||"",disabled:e.readOnly,onChange:i=>w(o=>o.native.color=i),name:e.t("Color")}))),n.createElement(c.DialogActions,null,!e.readOnly&&!e.widget?n.createElement(c.Button,{variant:"contained",color:"secondary",startIcon:n.createElement(W.Delete,null),onClick:()=>g(!0)},e.t("Delete")):null,!e.readOnly&&!e.widget?n.createElement("div",{style:{flex:1}}):null,e.readOnly?null:n.createElement(c.Button,{variant:"contained",color:"primary",disabled:!Pe,startIcon:n.createElement(W.Save,null),onClick:()=>z(void 0,null,function*(){a.native.type==="single"?a.native.intervals&&delete a.native.intervals:a.native.type==="double"?(a.native.intervals=a.native.intervals||[],a.native.intervals[0]=a.native.intervals[0]||{},a.native.intervals[0].timeOffset=(parseFloat(h)||1)*6e4,a.native.intervals[0].value=T):a.native.type==="toggle"&&(a.native.intervals=a.native.intervals||[],a.native.intervals[0]=a.native.intervals[0]||{},a.native.intervals[0].timeOffset=(parseFloat(h)||1)*6e4),yield e.socket.setObject(a._id,a),e.updateEvents(),e.onClose()})},e.t("Save")),n.createElement(c.Button,{variant:"contained",color:"grey",startIcon:n.createElement(W.Cancel,null),onClick:e.onClose},e.readOnly?e.t("Close"):e.t("Cancel"))),t&&n.createElement(V.Confirm,{title:e.t("Delete event"),text:e.t("All data will be lost. Confirm?"),suppressQuestionMinutes:5,dialogName:"deleteConfirmDialog",onClose:i=>z(void 0,null,function*(){if(i){try{yield e.socket.delObject(a._id),e.updateEvents()}catch(o){window.alert(`Cannot delete event: ${o}`)}e.onClose()}g(!1)})}))};Y.propTypes={classes:u().object.isRequired,socket:u().object.isRequired,open:u().bool.isRequired,onClose:u().func.isRequired,event:u().object,readOnly:u().bool,updateEvents:u().func.isRequired,serverTimeZone:u().number.isRequired,t:u().func.isRequired,widget:u().bool};var Ze=(0,L.withStyles)(xe)(Y),O=d(4819),J=(e,r,l)=>new Promise((s,v)=>{var a=E=>{try{y(l.next(E))}catch(t){v(t)}},C=E=>{try{y(l.throw(E))}catch(t){v(t)}},y=E=>E.done?s(E.value):Promise.resolve(E.value).then(a,C);y((l=l.apply(e,r)).next())});const Ne=[{type:"single",name:"Single event"},{type:"double",name:"Double event"},{type:"toggle",name:"Toggle event"}],je=({type:e,t:r})=>{const l=(0,D.useRef)(null);return(0,D.useEffect)(()=>{const s=new G._l(l.current,{eventData:()=>({id:e.type,title:r(e.name),create:!0,extendedProps:{type:e.type}})});return()=>{s.destroy()}},[]),O.createElement("div",{style:{backgroundColor:"rgb(58, 135, 178)",color:"white",cursor:"pointer",fontSize:"14px",padding:"3px 4px 6px 8px",borderRadius:4,marginBottom:20},ref:l},r(e.name))},Ae=()=>({container:{display:"flex",height:"100%",width:"100%"},leftBlock:{width:200},calendarBlock:{flex:1,display:"flex"},calendar:{marginRight:20,width:"100%"},leftPaper:{margin:20},leftContent:{display:"flex",flexDirection:"column",padding:"20px 10px"},hr:{width:"100%"}});function X(e){const[r,l]=(0,D.useState)(null),s=e.storageName||"calendar",v=(0,D.useRef)(null),a=(0,D.useRef)(null),C=(0,D.useRef)(null),y=!e.widget&&window.localStorage.getItem(`${s}Start`)?new Date(parseInt(window.localStorage.getItem(`${s}Start`),10)):new Date,E=e.events.map(t=>{var g,h;const m=(g=t==null?void 0:t.native)!=null&&g.intervals&&t.native.intervals[0]&&t.native.intervals[0].timeOffset?t.native.intervals[0].timeOffset:0;if(t.native.cron){const T=F(t.native.cron,"cron",e.serverTimeZone),S=Z(t.native.cron);return T.setFullYear(1970),Array.isArray(S.months)?{id:t._id,title:t.common.name,backgroundColor:t.native.color,start:T,duration:m,allDay:!1,rrule:{dtstart:new Date(T.getTime()-T.getTimezoneOffset()*6e4),freq:"daily",bymonth:S.months}}:Array.isArray(S.dows)?{id:t._id,title:t.common.name,backgroundColor:t.native.color,start:T,duration:m,allDay:!1,display:"block",rrule:{dtstart:new Date(T.getTime()-T.getTimezoneOffset()*6e4),freq:"weekly",byweekday:S.dows.map(B=>B===0?6:B-1)}}:{id:t._id,title:t.common.name,backgroundColor:t.native.color}}return{id:t._id,title:t.common.name,display:"block",backgroundColor:t.common.enabled?t.native.color:(h=t.native.color)!=null&&h.startsWith("#")?`${t.native.color}60`:t.native.color,start:F(t.native.start,"date",e.serverTimeZone),end:F(new Date(new Date(t.native.start).getTime()+m),"date",e.serverTimeZone)}});return(0,D.useEffect)(()=>{if(e.widget){const t=()=>{var g;const h=(g=v.current)==null?void 0:g.getApi();h&&(console.log("Scroll to now"),h.scrollToTime(new Date().getTime())),a.current?C.current=null:C.current=setTimeout(()=>t,3e5)};setTimeout(t,1e3)}return()=>{C.current&&clearTimeout(C.current),C.current=null,a.current&&clearTimeout(a.current),a.current=null}},[]),O.createElement(O.Fragment,null,O.createElement("style",null,e.theme.palette.mode==="dark"?`
:root {
    --fc-neutral-bg-color: hsla(0,0%,12%);
    --fc-list-event-hover-bg-color: hsla(0,0%,12%);
}
.fc-col-header-cell {
    background-color: #1e1e1e;
}                
`:`
.fc-col-header-cell {
    background-color: #EEEEEE;
}
`),r?O.createElement(Ze,{widget:e.widget,open:!0,event:e.events.find(t=>t._id===r),onClose:()=>l(null),socket:e.socket,updateEvents:e.updateEvents,serverTimeZone:e.serverTimeZone,readOnly:e.readOnly,t:e.t}):null,O.createElement("div",{className:e.classes.container},!e.hideLeftBlock&&!e.readOnly&&O.createElement("div",{className:e.classes.leftBlock},O.createElement(c.Paper,{elevation:4,className:e.classes.leftPaper},O.createElement("div",{className:e.classes.leftContent},O.createElement("h4",null,e.t("Events")),Ne.map((t,g)=>O.createElement(je,{t:e.t,type:t,name:e.t(t.name),key:t.type,index:g})),e.hideLeftBlockHint?null:O.createElement("div",null,e.t("Drag and drop the events above to create a new one.")),e.hideLeftBlockHint?null:O.createElement("hr",{className:e.classes.hr}),e.hideLeftBlockHint?null:O.createElement("div",null,e.t("Use ALT by dragging it to copy the events."))))),O.createElement("div",{className:e.classes.calendarBlock},O.createElement("div",{className:e.classes.calendar},O.createElement(p.Z,{ref:v,plugins:[le.Z,ee.Z,te.Z,G.ZP,ne.Z],weekends:!e.hideWeekends,headerToolbar:e.hideTopBlock?!1:{left:e.hideTopBlockButtons?"":"prev,next today",center:"title",right:e.hideTopBlockButtons?"":"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},initialView:e.viewMode||window.localStorage.getItem(`${s}View`)||"dayGridMonth",initialDate:y,editable:!e.readOnly,selectable:!0,selectMirror:!0,dayMaxEvents:!0,events:E,height:"calc(100% - 20px)",locales:[ae.Z,ie.Z,re.Z,se.Z,oe.Z,ce.Z,de.Z,ue.Z,ve.Z,me.Z],locale:e.language,datesSet:t=>{e.widget?(C.current&&clearTimeout(C.current),C.current=null,a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{a.current=null;const g=()=>{var h;const m=(h=v.current)==null?void 0:h.getApi();m==null||m.scrollToTime(new Date().getTime()),a.current?C.current=null:C.current=setTimeout(()=>g,1e3*60*5)};g()},6e4)):(window.localStorage.setItem(`${s}Start`,t.view.currentStart.getTime()),window.localStorage.setItem(`${s}View`,t.view.type))},eventClick:t=>l(t.event.id),eventResize:t=>{var g;const h=e.events.find(m=>m._id===t.event.id);if((g=h.native.intervals)!=null&&g[0].timeOffset){const m=JSON.parse(JSON.stringify(h));m.native.intervals[0].timeOffset+=t.endDelta.milliseconds,e.socket.setObject(m._id,m),e.updateEvents()}else t.revert()},eventDrop:t=>J(this,null,function*(){var g;const h=e.events.find(m=>m._id===t.event.id);if((g=h==null?void 0:h.native)!=null&&g.cron){const m=JSON.parse(JSON.stringify(h));t.jsEvent.altKey&&(m._id=`fullcalendar.${e.instance}.event-${(0,M.Z)()}`);const T=Z(m.native.cron),S=N(t.event.start,"cron",e.serverTimeZone);T.hours=S.hours,T.minutes=S.minutes,m.native.cron=P(T),yield e.socket.setObject(m._id,m),e.updateEvents()}else{const m=JSON.parse(JSON.stringify(h));t.jsEvent.altKey&&(m._id=`fullcalendar.${e.instance}.event-${(0,M.Z)()}`),m.native.start=N(t.event.start,"date",e.serverTimeZone),yield e.socket.setObject(m._id,m),e.updateEvents()}}),eventReceive:t=>J(this,null,function*(){const g={_id:`fullcalendar.${e.instance}.event-${(0,M.Z)()}`,common:{name:t.event.title,enabled:!0},native:{id:Date.now(),start:N(t.event.start,"date",e.serverTimeZone),type:t.event.extendedProps.type,durationEditable:!1,oid:"",startValue:"",color:"#3A87AD"},type:"schedule"};t.event.extendedProps.type!=="single"&&(g.native.intervals=[{timeOffset:30*60*1e3}]),yield e.socket.setObject(g._id,g),e.updateEvents(),setTimeout(()=>l(g._id),100)}),select:t=>J(this,null,function*(){if(t.view.calendar.unselect(),e.readOnly)return;console.log("ADD",t);const h={_id:`fullcalendar.${e.instance}.event-${(0,M.Z)()}`,common:{name:e.t("Single event"),enabled:!0},native:{id:Date.now(),start:N(t.date||t.start,"date",e.serverTimeZone),intervals:t.end?[{value:"",timeOffset:t.end.getTime()-t.start.getTime()}]:void 0,type:t.end?"double":"single",durationEditable:!!t.end,oid:"",startValue:"",color:"#3A87AD"},type:"schedule"};yield e.socket.setObject(h._id,h),yield e.updateEvents(),setTimeout(()=>l(h._id),100)})})))))}X.propTypes={events:u().array,serverTimeZone:u().number,theme:u().object,socket:u().object,readOnly:u().bool,hideLeftBlock:u().bool,hideTopBlock:u().bool,hideLeftBlockHint:u().bool,hideTopBlockButtons:u().bool,hideWeekends:u().bool,viewMode:u().bool,updateEvents:u().func,instance:u().oneOfType([u().string,u().number]),t:u().func.isRequired,widget:u().bool,language:u().string.isRequired,storageName:u().string};var Ie=(0,L.withTheme)((0,L.withStyles)(Ae)(X))}}]);

//# sourceMappingURL=src_Component_Calendar_js-webpack_sharing_consume_default_iobroker_vis-2-widgets-react-dev_io-4dd1d1.58ea153f.chunk.js.map