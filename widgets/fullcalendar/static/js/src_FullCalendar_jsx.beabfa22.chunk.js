"use strict";(self.webpackChunkiobroker_vis_2_widgets_fullcalendar=self.webpackChunkiobroker_vis_2_widgets_fullcalendar||[]).push([["src_FullCalendar_jsx"],{4278:function(C,u,a){a.r(u);var E=a(4819),d=a.n(E),m=a(15854),r=a.n(m),c=a(58503),T=a.n(c),_=a(75606),B=a.n(_),f=a(88411),x=a.n(f),g=a(83178),y=Object.defineProperty,D=(s,t,e)=>t in s?y(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,p=(s,t,e)=>(D(s,typeof t!="symbol"?t+"":t,e),e),M=(s,t,e)=>new Promise((l,i)=>{var b=n=>{try{h(e.next(n))}catch(v){i(v)}},W=n=>{try{h(e.throw(n))}catch(v){i(v)}},h=n=>n.done?l(n.value):Promise.resolve(n.value).then(b,W);h((e=e.apply(s,t)).next())});const O=()=>({content:{display:"flex",width:"100%",height:"100%",overflow:"auto"}}),P=window.visRxWidget||f.VisRxWidget;class o extends P{constructor(t){super(t),p(this,"updateEvents",()=>M(this,null,function*(){const e=yield this.props.socket.getObjectViewCustom("schedule","schedule",`fullcalendar.${this.state.rxData.instance}.`,`fullcalendar.${this.state.rxData.instance}.\u9999`);let l=0;try{const i=yield this.props.socket.getState("fullcalendar.0.info.timeZone");l=(i==null?void 0:i.val)||0}catch(i){}this.setState({events:Object.values(e),serverTimeZone:l})})),p(this,"changeEvents",e=>{this.setState({events:e})}),this.widgetRef=d().createRef()}static getWidgetInfo(){return{id:"tplFullCalendar",visSet:"fullcalendar",visWidgetLabel:"fullcalendar",visSetLabel:"set_label",visName:"Full calendar",visAttrs:[{name:"common",fields:[{label:"instance",name:"instance",type:"instance",adapter:"fullcalendar",isShort:!0},{label:"read_only",name:"readOnly",type:"checkbox",default:!1},{label:"hide_left_block",name:"hideLeftBlock",type:"checkbox",default:!1},{label:"hide_top_block",name:"hideTopBlock",type:"checkbox",default:!1},{label:"view_mode",name:"viewMode",type:"select",options:["dayGridMonth","timeGridWeek","timeGridDay","listMonth"],default:"dayGridMonth"},{label:"name",name:"name",tooltip:"used_only_with_relative",default:""}]}],visDefaultStyle:{width:"100%",height:355,position:"relative"},visPrev:"widgets/fullcalendar/img/prev_fullcalendar.png"}}static t(t,...e){return _.I18n.t(`full_calendar_${t}`,...e)}getWidgetInfo(){return o.getWidgetInfo()}componentDidMount(){this.updateEvents()}onRxDataChanged(){this.updateEvents()}renderWidgetBody(t){var e;super.renderWidgetBody(t),(e=this.widgetRef.current)!=null&&e.offsetWidth||this.forceUpdate();const l=d().createElement("div",{className:this.props.classes.content,ref:this.widgetRef},d().createElement(g.Z,{events:this.state.events||[],socket:this.props.socket,instance:this.state.rxData.instance,changeEvents:this.changeEvents,updateEvents:this.updateEvents,serverTimeZone:this.state.serverTimeZone||0,readOnly:this.state.rxData.readOnly||!1,hideLeftBlock:this.state.rxData.hideLeftBlock||!1,hideTopBlock:this.state.rxData.hideTopBlock||!1,viewMode:this.state.rxData.viewMode||null,t:o.t,language:_.I18n.getLanguage()}));return this.state.rxStyle.position==="relative"?this.wrapContent(l,null,{height:"calc(100% - 24px)",width:"calc(100% - 24px)"}):l}}o.propTypes={systemConfig:r().object,socket:r().object,themeType:r().string,style:r().object,data:r().object},u.default=(0,c.withStyles)(O)((0,c.withTheme)(o))}}]);

//# sourceMappingURL=src_FullCalendar_jsx.beabfa22.chunk.js.map