(self.webpackChunkiobroker_vis_2_widgets_fullcalendar=self.webpackChunkiobroker_vis_2_widgets_fullcalendar||[]).push([["node_modules_iobroker_vis-2-widgets-react-dev_index_jsx-_adb40","node_modules_iobroker_vis-2-widgets-react-dev_index_jsx-_adb41"],{25582:function(h,c,r){"use strict";r.r(c),r.d(c,{VisRxWidget:function(){return u.Z},__esModule:function(){return u.X}});var u=r(90384)},90384:function(h,c,r){"use strict";var u=r(64836);Object.defineProperty(c,"X",{value:!0}),c.Z=void 0;var C=u(r(64687)),R=u(r(18698)),w=u(r(17156)),W=u(r(56690)),j=u(r(89728)),x=u(r(66115)),N=u(r(61655)),M=u(r(94993)),I=u(r(73808)),D=u(r(38416)),v=u(r(4819)),y=r(75606);function b(s,l){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(s);l&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable})),i.push.apply(i,e)}return i}function p(s){for(var l=1;l<arguments.length;l++){var i=arguments[l]!=null?arguments[l]:{};l%2?b(Object(i),!0).forEach(function(e){(0,D.default)(s,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(i,e))})}return s}function J(s){var l=B();return function(){var e=(0,I.default)(s),t;if(l){var n=(0,I.default)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,M.default)(this,t)}}function B(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(s){return!1}}var V=function(s){(0,N.default)(i,s);var l=J(i);function i(e){var t;return(0,W.default)(this,i),t=l.call(this,e),(0,D.default)((0,x.default)(t),"getIdSubscribeState",function(n,a){return t.props.socket.getState(n).then(function(o){return a(n,o),t.props.socket.subscribeState(n,function(g,f){return a(n,f)})})}),t.onStateChanged=t.onStateChanged.bind((0,x.default)(t)),t.state=p(p({},e),{},{values:{},data:JSON.parse(JSON.stringify(e.data||{})),style:JSON.parse(JSON.stringify(e.style||{})),rxData:JSON.parse(JSON.stringify(e.data||{})),rxStyle:JSON.parse(JSON.stringify(e.style||{}))}),t.linkContext={IDs:[]},t}return(0,j.default)(i,[{key:"renderWidgetBody",value:function(){}},{key:"onStateUpdated",value:function(t,n){}},{key:"formatValue",value:function(t,n){if(typeof t=="number"){var a;n===0?t=Math.round(t):t=Math.round(t*100)/100,(a=this.props.systemConfig)!==null&&a!==void 0&&a.common&&this.props.systemConfig.common.isFloatComma&&(t=t.toString().replace(".",","))}return t==null?"":t.toString()}},{key:"wrapContent",value:function(t,n,a,o,g,f){var k=f.Card,d=f.CardContent;return v.default.createElement(k,{style:{width:"calc(100% - 8px)",height:"calc(100% - 8px)",margin:4},onClick:g},v.default.createElement(d,{style:p({display:"flex",flexDirection:"column",alignItems:"center",height:"100%",position:"relative"},a)},this.state.rxData.name?v.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"}},v.default.createElement("div",{style:p({fontSize:24,paddingTop:0,paddingBottom:4},o)},this.state.rxData.name),n||null):n||null,t))}},{key:"onStateChanged",value:function(t,n){if(n){var a=JSON.parse(JSON.stringify(this.state.values));Object.keys(n).forEach(function(o){return a["".concat(t,".").concat(o)]=n[o]}),this.onStateUpdated(t,n),this.setState({values:a})}}},{key:"componentDidMount",value:function(){var e=(0,w.default)(C.default.mark(function n(){var a,o,g=this,f;return C.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:(a=this.getWidgetInfo())===null||a===void 0||(o=a.visAttrs)===null||o===void 0||o.forEach(function(S){var O;return S==null||(O=S.fields)===null||O===void 0?void 0:O.forEach(function(m){(m==null?void 0:m.type)==="id"&&Object.keys(g.state.data).forEach(function(E){if(E.match(new RegExp("^".concat(m.name,"[0-9]*$")))){var P=g.state.data[E];g.linkContext.IDs.includes(P)||g.linkContext.IDs.push(P)}})})}),f=0;case 2:if(!(f<this.linkContext.IDs.length)){d.next=8;break}return d.next=5,this.getIdSubscribeState(this.linkContext.IDs[f],this.onStateChanged);case 5:f++,d.next=2;break;case 8:case"end":return d.stop()}},n,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"componentWillUnmount",value:function(){var t=this;this.linkContext.IDs.forEach(function(n){return t.props.socket.unsubscribeState(n,t.onStateChanged)})}},{key:"getWidgetView",value:function(t,n){return v.default.createElement("div",{style:{width:"100%",height:"100%"}},"DEMO VIEW")}},{key:"render",value:function(){var t,n;return v.default.createElement("div",{style:{width:(t=this.state.style)===null||t===void 0?void 0:t.width,height:(n=this.state.style)===null||n===void 0?void 0:n.height}},this.renderWidgetBody())}}],[{key:"getI18nPrefix",value:function(){return""}},{key:"getText",value:function(t){return(0,R.default)(t)==="object"?t[y.I18n.getLanguage()]||t.en:t}},{key:"t",value:function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return y.I18n.t.apply(y.I18n,["".concat(this.getI18nPrefix()).concat(t)].concat(a))}},{key:"getLanguage",value:function(){return y.I18n.getLanguage()}}]),i}(v.default.Component),U=V;c.Z=U},64836:function(h){function c(r){return r&&r.__esModule?r:{default:r}}h.exports=c,h.exports.__esModule=!0,h.exports.default=h.exports}}]);

//# sourceMappingURL=node_modules_iobroker_vis-2-widgets-react-dev_index_jsx-_adb40.1de06fca.chunk.js.map