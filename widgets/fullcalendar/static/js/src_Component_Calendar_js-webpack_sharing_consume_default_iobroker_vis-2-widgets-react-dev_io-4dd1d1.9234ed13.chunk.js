"use strict";(self.webpackChunkiobroker_vis_2_widgets_fullcalendar=self.webpackChunkiobroker_vis_2_widgets_fullcalendar||[]).push([["src_Component_Calendar_js-webpack_sharing_consume_default_iobroker_vis-2-widgets-react-dev_io-4dd1d1"],{83178:function(Re,q,d){d.d(q,{Z:function(){return Ae}});var T=d(4819),_=d(15854),m=d.n(_),R=d(10651),M=d(58503),p=d(76516),ee=d(40387),te=d(24990),H=d(44251),ne=d(10367),ae=d(51172),le=d(25177),ie=d(33841),re=d(49582),se=d(36513),ce=d(4302),oe=d(43007),de=d(43223),ue=d(96933),me=d(93484),ve=d(80809),o=d(94427);function fe(e,r){return e-r}function k(e){if(e==="*"||e==="?"||e==="")return e;const r=e.split(","),a=[];for(let s=0;s<r.length;s++){const v=r[s].match(/(\d+)-(\d+)/);if(v)for(let i=parseInt(v[1],10);i<=parseInt(v[2],10);i++)a.push(i);else a.push(parseInt(r[s],10))}return a}function Z(e,r){const a={};if(r){const s=r.split(/\D/);a.seconds=[parseInt(s[5],10)],a.minutes=[parseInt(s[4],10)],a.hours=[parseInt(s[3],10)],a.dates=[parseInt(s[2],10)],a.months=[parseInt(s[1],10)],a.dows="?"}else{const s=e.replace(/\s\s/g," ").replace(/\s\s/g," ").split(" ");s.length===6?(a.seconds=k(s[0]),a.minutes=k(s[1]),a.hours=k(s[2]),a.dates=k(s[3]),a.months=k(s[4]),a.dows=k(s[5])):(a.seconds=[0],a.minutes=k(s[0]),a.hours=k(s[1]),a.dates=k(s[2]),a.months=k(s[3]),a.dows=k(s[4]))}return a}function P(e){if(e==="*"||e==="?")return e;if(typeof e=="string"&&(e=parseInt(e,10)),typeof e!="object"&&(e=[e]),e.sort(fe),e.length<3)return e.join(",");const r=[];let a=e[0],s=e[0];for(let v=1;v<e.length;v++)e[v]===s+1?s++:(a!==s?a+1===s?r.push(`${a},${s}`):r.push(`${a}-${s}`):r.push(a),a=e[v],s=e[v]);return a!==s?a+1===s?r.push(`${a},${s}`):r.push(`${a}-${s}`):r.push(a),r.join(",")}function A(e){const r=["*","*","*","*","*","?"];return e.seconds&&(r[0]=P(e.seconds)),r[1]=P(e.minutes),r[2]=P(e.hours),r[3]=P(e.dates),r[4]=P(e.months),r[5]=P(e.dows),r[0]==="0"&&r.shift(),r.join(" ")}function B(e,r,a){if(r==="cron"){const s=Z(e);let v=new Date;return v.setHours(s.hours[0],s.minutes[0]),v=new Date(v.getTime()-(v.getTimezoneOffset()+a)*6e4),v}return r==="date"?(e+="Z",new Date(new Date(e).getTime()-a*6e4)):null}function x(e,r,a){if(r==="cron")return e=new Date(e.getTime()+(e.getTimezoneOffset()+a)*6e4),{minutes:[e.getMinutes()],hours:[e.getHours()]};if(r==="date"){e=new Date(e.getTime()+a*6e4);const s=e.toISOString();return s.substring(0,s.length-5)}return null}var L=d(59665),V=d(75606),ge=d(71373),he=d(38809),ye=d(95431),Ee=d(36105),G=d.n(Ee),n=d(4819),be=Object.defineProperty,Ce=Object.defineProperties,Oe=Object.getOwnPropertyDescriptors,K=Object.getOwnPropertySymbols,Te=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable,Q=(e,r,a)=>r in e?be(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a,we=(e,r)=>{for(var a in r||(r={}))Te.call(r,a)&&Q(e,a,r[a]);if(K)for(var a of K(r))De.call(r,a)&&Q(e,a,r[a]);return e},ke=(e,r)=>Ce(e,Oe(r)),U=(e,r,a)=>new Promise((s,v)=>{var i=E=>{try{y(a.next(E))}catch(t){v(t)}},O=E=>{try{y(a.throw(E))}catch(t){v(t)}},y=E=>E.done?s(E.value):Promise.resolve(E.value).then(i,O);y((a=a.apply(e,r)).next())});const Se={single:"single_description",double:"double_description",toggle:"toggle_description"},Ze={field:{padding:"2px 0px"},tableCell:{textAlign:"center"},typeDescription:{fontSize:12,whiteSpace:"normal",fontStyle:"italic"},selectId:{display:"flex"}};function xe(e,r){return e&&typeof e=="object"?e[r]||e.en:e}const Y=e=>{const r=e.event.native.intervals&&e.event.native.intervals[0]&&e.event.native.intervals[0].timeOffset?e.event.native.intervals[0].timeOffset/6e4:0,a=e.event.native.intervals&&e.event.native.intervals[0]&&e.event.native.intervals[0].value!==void 0?e.event.native.intervals[0].value:"",[s,v]=(0,T.useState)(!1),[i,O]=(0,T.useState)(e.event),[y,E]=(0,T.useState)(null),[t,h]=(0,T.useState)(!1),[g,u]=(0,T.useState)(r),[D,N]=(0,T.useState)(a);(0,T.useEffect)(()=>{i.native.oid?e.socket.getObject(i.native.oid).then(l=>E(l)).catch(l=>{console.error(`Cannot get object ${i.native.oid}: ${l}`),E(null)}):E(null)},[i.native.oid,e.socket]);const $=i.native.cron?Z(i.native.cron):null;let S="once";Array.isArray($==null?void 0:$.months)?S="monthly":Array.isArray($==null?void 0:$.dows)&&(S="daily");let I;i&&(S==="once"?I=B(i.native.start,"date",e.serverTimeZone):(S==="monthly"||S==="daily")&&(I=B(i.native.cron,"cron",e.serverTimeZone)));const Ie=JSON.stringify(e.event)!==JSON.stringify(i)||g!==r||D!==a,w=l=>{const c=JSON.parse(JSON.stringify(i));l(c),O(c)},Be=(l,c)=>y?y.common.type==="boolean"?n.createElement(o.FormControlLabel,{control:n.createElement(o.Checkbox,{checked:!!i.native[l],disabled:e.readOnly,onChange:f=>{w(b=>b.native[l]=f.target.checked)}}),label:e.t(c)}):y.common.states?n.createElement(o.FormControl,{fullWidth:!0,variant:"standard"},n.createElement(o.InputLabel,null,e.t(c)),n.createElement(o.Select,{value:i.native[l]||"",disabled:e.readOnly,onChange:f=>w(b=>b.native[l]=f.target.value)},Object.keys(y.common.states).map(f=>n.createElement(o.MenuItem,{key:f,value:f},y.common.states[f])))):n.createElement(o.TextField,{label:e.t(c),value:i.native[l]||"",disabled:e.readOnly,onChange:f=>w(b=>b.native[l]=f.target.value),variant:"standard",fullWidth:!0}):null,Fe=()=>y?y.common.type==="boolean"?n.createElement(o.FormControlLabel,{control:n.createElement(o.Checkbox,{checked:!!D,disabled:e.readOnly,onChange:l=>N(l.target.checked)}),label:e.t("End value")}):y.common.states?n.createElement(o.FormControl,{fullWidth:!0,variant:"standard"},n.createElement(o.InputLabel,null,e.t("End value")),n.createElement(o.Select,{value:D||"",disabled:e.readOnly,onChange:l=>N(l.target.value)},Object.keys(y.common.states).map(l=>n.createElement(o.MenuItem,{key:l,value:l},y.common.states[l])))):n.createElement(o.TextField,{label:e.t("End value"),value:D||"",disabled:e.readOnly,onChange:l=>N(l.target.value),variant:"standard",fullWidth:!0}):null;return n.createElement(o.Dialog,{open:!0,onClose:e.onClose,fullWidth:!0},n.createElement(o.DialogTitle,null,e.t("Configure event")),n.createElement(o.DialogContent,null,s&&n.createElement(V.SelectID,{imagePrefix:"../..",selected:i.native.oid,disabled:e.readOnly,onOk:l=>{w(c=>c.native.oid=l),v(!1)},onClose:()=>v(!1),socket:e.socket}),n.createElement("div",{className:e.classes.field},n.createElement(o.FormControlLabel,{control:n.createElement(o.Checkbox,{checked:!!(i!=null&&i.common.enabled),disabled:e.readOnly,onChange:l=>w(c=>c.common.enabled=l.target.checked)}),label:e.t("Active")})),n.createElement("div",{className:e.classes.field},n.createElement(o.FormControl,{fullWidth:!0,variant:"standard"},n.createElement(o.InputLabel,null,e.t("Event type")),n.createElement(o.Select,{value:i.native.type||"",disabled:e.readOnly,onChange:l=>w(c=>c.native.type=l.target.value),renderValue:l=>e.t(l)},["single","double","toggle"].map(l=>n.createElement(o.MenuItem,{key:l,value:l},n.createElement("div",null,n.createElement("div",null,e.t(l)),n.createElement("div",{className:e.classes.typeDescription},e.t(Se[l])))))))),n.createElement("div",{className:e.classes.field},n.createElement(he._,{dateAdapter:ge.Z},n.createElement(ye.j,{label:e.t("Time"),value:I||null,disabled:e.readOnly,onChange:l=>{if(l)try{w(c=>{if(S==="once")c.native.start=x(l.toDate(),"date",e.serverTimeZone);else if(S==="monthly"||S==="daily"){const f=Z(c.native.cron),b=x(l.toDate(),"cron",e.serverTimeZone);f.hours=b.hours,f.minutes=b.minutes,c.native.cron=A(f)}})}catch(c){}},renderInput:l=>n.createElement(o.TextField,ke(we({},l),{variant:"standard",fullWidth:!0})),ampm:!1}))),i.native.type!=="single"&&n.createElement("div",{className:e.classes.field},n.createElement(o.TextField,{label:e.t("Duration"),value:g,disabled:e.readOnly,onChange:l=>u(l.target.value),variant:"standard",fullWidth:!0,InputProps:{endAdornment:n.createElement(o.InputAdornment,{position:"end"},e.t("minutes"))}})),n.createElement("div",{className:e.classes.field},n.createElement("div",{className:e.classes.selectId},n.createElement(o.TextField,{label:"Object ID",value:i.native.oid||"",disabled:e.readOnly,onChange:l=>w(c=>c.native.oid=l.target.value),variant:"standard",helperText:xe((y==null?void 0:y.common.name)||"",e.language),fullWidth:!0}),n.createElement(o.Button,{onClick:()=>v(!0)},"..."))),n.createElement("div",{className:e.classes.field},Be("startValue",i.native.type==="toggle"?"First value":"Start value")),i.native.type==="double"&&n.createElement("div",{className:e.classes.field},Fe()),n.createElement("div",{className:e.classes.field},n.createElement(o.FormControl,{fullWidth:!0,variant:"standard"},n.createElement(o.InputLabel,null,e.t("Period")),n.createElement(o.Select,{value:S||"once",disabled:e.readOnly,onChange:l=>{l.target.value!==i.native.cron&&w(c=>{if(l.target.value==="once")delete c.native.cron,c.native.start=x(I,"date",e.serverTimeZone);else if(l.target.value==="daily"){delete c.native.start;const f=Z("0 0 ? * 0-6"),b=x(I,"cron",e.serverTimeZone);f.hours=b.hours,f.minutes=b.minutes,c.native.cron=A(f)}else if(l.target.value==="monthly"){delete c.native.start;const f=Z("0 0 ? 1-12 ?"),b=x(I,"cron",e.serverTimeZone);f.hours=b.hours,f.minutes=b.minutes,c.native.cron=A(f)}})}},["once","daily","monthly"].map(l=>n.createElement(o.MenuItem,{key:l,value:l},e.t(l)))))),S==="monthly"&&n.createElement("div",{className:e.classes.field},n.createElement("table",null,n.createElement("tr",null,new Array(12).fill(null).map((l,c)=>n.createElement("td",{className:e.classes.tableCell},G()().month(c).format("MMM")))),n.createElement("tr",null,new Array(12).fill(null).map((l,c)=>{var f;return n.createElement("td",null,n.createElement(o.Checkbox,{checked:((f=$==null?void 0:$.months)==null?void 0:f.includes(c+1))||!1,disabled:e.readOnly,onChange:b=>{w(F=>{const j=Z(F.native.cron);b.target.checked?j.months.push(c+1):j.months=j.months.filter(J=>J!==c+1),F.native.cron=A(j)})},size:"small"}))})))),S==="daily"&&n.createElement("div",{className:e.classes.field},n.createElement("table",null,n.createElement("tr",null,new Array(7).fill(null).map((l,c)=>n.createElement("td",{className:e.classes.tableCell},G()().day(c).format("ddd")))),n.createElement("tr",null,new Array(7).fill(null).map((l,c)=>{var f;return n.createElement("td",null,n.createElement(o.Checkbox,{checked:((f=$==null?void 0:$.dows)==null?void 0:f.includes(c))||!1,disabled:e.readOnly,onChange:b=>{w(F=>{const j=Z(F.native.cron);b.target.checked?j.dows.push(c):j.dows=j.dows.filter(J=>J!==c),F.native.cron=A(j)})},size:"small"}))})))),n.createElement("div",{className:e.classes.field},n.createElement(o.TextField,{label:"Description",value:(i==null?void 0:i.common.name)||"",disabled:e.readOnly,onChange:l=>w(c=>c.common.name=l.target.value),variant:"standard",fullWidth:!0})),n.createElement("div",{className:e.classes.field},n.createElement(V.ColorPicker,{value:i.native.color||"",disabled:e.readOnly,onChange:l=>w(c=>c.native.color=l),name:e.t("Color")}))),n.createElement(o.DialogActions,null,e.readOnly?null:n.createElement(o.Button,{variant:"contained",color:"secondary",startIcon:n.createElement(L.Delete,null),onClick:()=>h(!0)},e.t("Delete")),!e.readOnly&&!e.widget?n.createElement("div",{style:{flex:1}}):null,e.readOnly?null:n.createElement(o.Button,{variant:"contained",color:"primary",disabled:!Ie,startIcon:n.createElement(L.Save,null),onClick:()=>U(void 0,null,function*(){i.native.type==="single"?i.native.intervals&&delete i.native.intervals:i.native.type==="double"?(i.native.intervals=i.native.intervals||[],i.native.intervals[0]=i.native.intervals[0]||{},i.native.intervals[0].timeOffset=(parseFloat(g)||1)*6e4,i.native.intervals[0].value=D):i.native.type==="toggle"&&(i.native.intervals=i.native.intervals||[],i.native.intervals[0]=i.native.intervals[0]||{},i.native.intervals[0].timeOffset=(parseFloat(g)||1)*6e4),yield e.socket.setObject(i._id,i),e.updateEvents(),e.onClose()})},e.t("Save")),n.createElement(o.Button,{variant:"contained",color:"grey",startIcon:n.createElement(L.Cancel,null),onClick:e.onClose},e.readOnly?e.t("Close"):e.t("Cancel"))),t&&n.createElement(V.Confirm,{title:e.t("Delete event"),text:e.t("Event will be deleted. Confirm?"),suppressQuestionMinutes:5,dialogName:"deleteConfirmDialog",onClose:l=>U(void 0,null,function*(){if(l){try{yield e.socket.delObject(i._id),e.updateEvents()}catch(c){window.alert(`Cannot delete event: ${c}`)}e.onClose()}h(!1)})}))};Y.propTypes={classes:m().object.isRequired,socket:m().object.isRequired,onClose:m().func.isRequired,event:m().object,readOnly:m().bool,updateEvents:m().func.isRequired,serverTimeZone:m().number.isRequired,t:m().func.isRequired,language:m().string.isRequired,widget:m().bool};var Ne=(0,M.withStyles)(Ze)(Y),C=d(4819),z=(e,r,a)=>new Promise((s,v)=>{var i=E=>{try{y(a.next(E))}catch(t){v(t)}},O=E=>{try{y(a.throw(E))}catch(t){v(t)}},y=E=>E.done?s(E.value):Promise.resolve(E.value).then(i,O);y((a=a.apply(e,r)).next())});const je=[{type:"single",name:"Single event"},{type:"double",name:"Double event"},{type:"toggle",name:"Toggle event"}],$e=({type:e,t:r})=>{const a=(0,T.useRef)(null);return(0,T.useEffect)(()=>{const s=new H._l(a.current,{eventData:()=>({id:e.type,title:r(e.name),create:!0,extendedProps:{type:e.type}})});return()=>{s.destroy()}},[]),C.createElement("div",{style:{backgroundColor:"rgb(58, 135, 178)",color:"white",cursor:"pointer",fontSize:"14px",padding:"3px 4px 6px 8px",borderRadius:4,marginBottom:20},ref:a},r(e.name))},Pe=()=>({container:{display:"flex",height:"100%",width:"100%"},leftBlock:{width:200},calendarBlock:{flex:1,display:"flex"},calendar:{marginRight:20,width:"100%"},leftPaper:{margin:20},leftContent:{display:"flex",flexDirection:"column",padding:"20px 10px"},hr:{width:"100%"}});function W(e){if(e)return e.startsWith("#")?e.length===4?`#${e[1]}${e[1]}${e[2]}${e[2]}${e[3]}${e[3]}50`:`${e.substring(0,7)}50`:e.startsWith("rgb(")?e.replace("rgb(","rgba(").replace(")",", 0.3)"):e.startsWith("rgba(")?e.replace(/,\s?[.\d]+\)$/,", 0.3)"):e}function X(e){const[r,a]=(0,T.useState)(null),s=e.storageName||"calendar",v=(0,T.useRef)(null),i=(0,T.useRef)(null),O=(0,T.useRef)(null),y=(!e.widget&&window.localStorage.getItem(`${s}Start`),new Date),E=e.events.map(t=>{var h;const g=(h=t==null?void 0:t.native)!=null&&h.intervals&&t.native.intervals[0]&&t.native.intervals[0].timeOffset?t.native.intervals[0].timeOffset:0;if(t.native.cron){const u=B(t.native.cron,"cron",e.serverTimeZone),D=Z(t.native.cron);return u.setFullYear(1970),Array.isArray(D.months)?{id:t._id,title:t.common.name,backgroundColor:t.common.enabled?t.native.color:W(t.native.color),start:u,duration:g,allDay:!1,rrule:{dtstart:new Date(u.getTime()-u.getTimezoneOffset()*6e4),freq:"daily",bymonth:D.months}}:Array.isArray(D.dows)?{id:t._id,title:t.common.name,backgroundColor:t.common.enabled?t.native.color:W(t.native.color),start:u,duration:g,allDay:!1,display:"block",rrule:{dtstart:new Date(u.getTime()-u.getTimezoneOffset()*6e4),freq:"weekly",byweekday:D.dows.map(N=>N===0?6:N-1)}}:{id:t._id,title:t.common.name,backgroundColor:t.common.enabled?t.native.color:W(t.native.color)}}return{id:t._id,title:t.common.name,display:"block",backgroundColor:t.common.enabled?t.native.color:W(t.native.color),start:B(t.native.start,"date",e.serverTimeZone),end:B(new Date(new Date(t.native.start).getTime()+g),"date",e.serverTimeZone)}});return(0,T.useEffect)(()=>{if(e.widget){const t=()=>{var h;const g=(h=v.current)==null?void 0:h.getApi();g&&(console.log("Scroll to now"),g.scrollToTime(new Date().getTime())),i.current?O.current=null:O.current=setTimeout(()=>t,3e5)};setTimeout(t,1e3)}return()=>{O.current&&clearTimeout(O.current),O.current=null,i.current&&clearTimeout(i.current),i.current=null}},[]),C.createElement(C.Fragment,null,C.createElement("style",null,e.theme.palette.mode==="dark"?`
:root {
    --fc-neutral-bg-color: hsla(0,0%,12%);
    --fc-list-event-hover-bg-color: hsla(0,0%,12%);
}
.fc-col-header-cell {
    background-color: #1e1e1e;
}                
`:`
.fc-col-header-cell {
    background-color: #EEEEEE;
}
`),r?C.createElement(Ne,{widget:e.widget,event:e.events.find(t=>t._id===r),onClose:()=>a(null),socket:e.socket,updateEvents:e.updateEvents,serverTimeZone:e.serverTimeZone,readOnly:e.readOnly,t:e.t,language:e.language}):null,C.createElement("div",{className:e.classes.container},!e.hideLeftBlock&&!e.readOnly&&C.createElement("div",{className:e.classes.leftBlock},C.createElement(o.Paper,{elevation:4,className:e.classes.leftPaper},C.createElement("div",{className:e.classes.leftContent},C.createElement("h4",null,e.t("Events")),je.map((t,h)=>C.createElement($e,{t:e.t,type:t,name:e.t(t.name),key:t.type,index:h})),e.hideLeftBlockHint?null:C.createElement("div",null,e.t("Drag and drop the events above to create a new one.")),e.hideLeftBlockHint?null:C.createElement("hr",{className:e.classes.hr}),e.hideLeftBlockHint?null:C.createElement("div",null,e.t("Use ALT by dragging it to copy the events."))))),C.createElement("div",{className:e.classes.calendarBlock},C.createElement("div",{className:e.classes.calendar},C.createElement(p.Z,{ref:v,plugins:[ae.Z,ee.Z,te.Z,H.ZP,ne.Z],weekends:!e.hideWeekends,headerToolbar:e.hideTopBlock?!1:{left:e.hideTopBlockButtons?"":"prev,next today",center:"title",right:e.hideTopBlockButtons?"":"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},initialView:e.viewMode||window.localStorage.getItem(`${s}View`)||"dayGridMonth",initialDate:y,editable:!e.readOnly,selectable:!0,selectMirror:!0,nowIndicator:!0,dayMaxEvents:!0,events:E,height:"calc(100% - 20px)",locales:[le.Z,ie.Z,re.Z,se.Z,ce.Z,oe.Z,de.Z,ue.Z,me.Z,ve.Z],locale:e.language,datesSet:t=>{e.widget?(O.current&&clearTimeout(O.current),O.current=null,i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{i.current=null;const h=()=>{var g;const u=(g=v.current)==null?void 0:g.getApi();u==null||u.scrollToTime(new Date().getTime()),i.current?O.current=null:O.current=setTimeout(()=>h,1e3*60*5)};h()},6e4)):window.localStorage.setItem(`${s}View`,t.view.type)},eventClick:t=>a(t.event.id),eventResize:t=>{var h;const g=e.events.find(u=>u._id===t.event.id);if((h=g.native.intervals)!=null&&h[0].timeOffset){const u=JSON.parse(JSON.stringify(g));u.native.intervals[0].timeOffset+=t.endDelta.milliseconds,e.socket.setObject(u._id,u),e.updateEvents()}else t.revert()},eventDrop:t=>z(this,null,function*(){var h;const g=e.events.find(u=>u._id===t.event.id);if((h=g==null?void 0:g.native)!=null&&h.cron){const u=JSON.parse(JSON.stringify(g));t.jsEvent.altKey&&(u._id=`fullcalendar.${e.instance}.event-${(0,R.Z)()}`);const D=Z(u.native.cron),N=x(t.event.start,"cron",e.serverTimeZone);D.hours=N.hours,D.minutes=N.minutes,u.native.cron=A(D),yield e.socket.setObject(u._id,u),e.updateEvents()}else{const u=JSON.parse(JSON.stringify(g));t.jsEvent.altKey&&(u._id=`fullcalendar.${e.instance}.event-${(0,R.Z)()}`),u.native.start=x(t.event.start,"date",e.serverTimeZone),yield e.socket.setObject(u._id,u),e.updateEvents()}}),eventReceive:t=>z(this,null,function*(){const h={_id:`fullcalendar.${e.instance}.event-${(0,R.Z)()}`,common:{name:t.event.title,enabled:!0},native:{id:Date.now(),start:x(t.event.start,"date",e.serverTimeZone),type:t.event.extendedProps.type,durationEditable:!1,oid:"",startValue:"",color:"#3A87AD"},type:"schedule"};t.event.extendedProps.type!=="single"&&(h.native.intervals=[{timeOffset:30*60*1e3}]),yield e.socket.setObject(h._id,h),e.updateEvents(),setTimeout(()=>a(h._id),100)}),select:t=>z(this,null,function*(){if(t.view.calendar.unselect(),e.readOnly)return;const g={_id:`fullcalendar.${e.instance}.event-${(0,R.Z)()}`,common:{name:e.t("Single event"),enabled:!0},native:{id:Date.now(),start:x(t.date||t.start,"date",e.serverTimeZone),intervals:t.end?[{value:"",timeOffset:t.end.getTime()-t.start.getTime()}]:void 0,type:t.end?"double":"single",durationEditable:!!t.end,oid:"",startValue:"",color:"#3A87AD"},type:"schedule"};yield e.socket.setObject(g._id,g),yield e.updateEvents(),setTimeout(()=>a(g._id),100)})})))))}X.propTypes={events:m().array,serverTimeZone:m().number,theme:m().object,socket:m().object,readOnly:m().bool,hideLeftBlock:m().bool,hideTopBlock:m().bool,hideLeftBlockHint:m().bool,hideTopBlockButtons:m().bool,hideWeekends:m().bool,viewMode:m().bool,updateEvents:m().func,instance:m().oneOfType([m().string,m().number]),t:m().func.isRequired,widget:m().bool,language:m().string.isRequired,storageName:m().string};var Ae=(0,M.withTheme)((0,M.withStyles)(Pe)(X))}}]);

//# sourceMappingURL=src_Component_Calendar_js-webpack_sharing_consume_default_iobroker_vis-2-widgets-react-dev_io-4dd1d1.9234ed13.chunk.js.map