"use strict";(self.webpackChunkiobroker_vis_2_widgets_fullcalendar=self.webpackChunkiobroker_vis_2_widgets_fullcalendar||[]).push([["node_modules_iobroker_vis-2-widgets-react-dev_index_jsx-_adb40","node_modules_iobroker_vis-2-widgets-react-dev_index_jsx-_adb41"],{25582:function(j,g,a){a.r(g),a.d(g,{VisRxWidget:function(){return u.Z},__esModule:function(){return u.X}});var u=a(90384)},90384:function(j,g,a){var u=a(64836);Object.defineProperty(g,"X",{value:!0}),g.Z=void 0;var O=u(a(64687)),P=u(a(18698)),w=u(a(17156)),R=u(a(56690)),W=u(a(89728)),C=u(a(66115)),N=u(a(61655)),J=u(a(94993)),I=u(a(73808)),b=u(a(38416)),d=u(a(4819)),h=a(75606);function x(s,l){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(s);l&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable})),i.push.apply(i,e)}return i}function y(s){for(var l=1;l<arguments.length;l++){var i=arguments[l]!=null?arguments[l]:{};l%2?x(Object(i),!0).forEach(function(e){(0,b.default)(s,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(i,e))})}return s}function M(s){var l=B();return function(){var e=(0,I.default)(s),t;if(l){var n=(0,I.default)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,J.default)(this,t)}}function B(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(s){return!1}}var V=function(s){(0,N.default)(i,s);var l=M(i);function i(e){var t;return(0,R.default)(this,i),t=l.call(this,e),(0,b.default)((0,C.default)(t),"getIdSubscribeState",function(n,r){return t.props.socket.getState(n).then(function(o){return r(n,o),t.props.socket.subscribeState(n,function(v,c){return r(n,c)})})}),t.onStateChanged=t.onStateChanged.bind((0,C.default)(t)),t.state=y(y({},e),{},{values:{},data:JSON.parse(JSON.stringify(e.data||{})),style:JSON.parse(JSON.stringify(e.style||{})),rxData:JSON.parse(JSON.stringify(e.data||{})),rxStyle:JSON.parse(JSON.stringify(e.style||{}))}),t.linkContext={IDs:[]},t}return(0,W.default)(i,[{key:"renderWidgetBody",value:function(){}},{key:"onStateUpdated",value:function(t,n){}},{key:"formatValue",value:function(t,n){if(typeof t=="number"){var r;n===0?t=Math.round(t):t=Math.round(t*100)/100,(r=this.props.systemConfig)!==null&&r!==void 0&&r.common&&this.props.systemConfig.common.isFloatComma&&(t=t.toString().replace(".",","))}return t==null?"":t.toString()}},{key:"wrapContent",value:function(t,n,r,o,v,c){var D=c.Card,f=c.CardContent;return d.default.createElement(D,{style:{width:"calc(100% - 8px)",height:"calc(100% - 8px)",margin:4},onClick:v},d.default.createElement(f,{style:y({display:"flex",flexDirection:"column",alignItems:"center",height:"100%",position:"relative"},r)},this.state.rxData.name?d.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"}},d.default.createElement("div",{style:y({fontSize:24,paddingTop:0,paddingBottom:4},o)},this.state.rxData.name),n||null):n||null,t))}},{key:"onStateChanged",value:function(t,n){if(n){var r=JSON.parse(JSON.stringify(this.state.values));Object.keys(n).forEach(function(o){return r["".concat(t,".").concat(o)]=n[o]}),this.onStateUpdated(t,n),this.setState({values:r})}}},{key:"componentDidMount",value:function(){var e=(0,w.default)(O.default.mark(function n(){var r,o,v=this,c;return O.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:(r=this.getWidgetInfo())===null||r===void 0||(o=r.visAttrs)===null||o===void 0||o.forEach(function(m){var S;return m==null||(S=m.fields)===null||S===void 0?void 0:S.forEach(function(p){(p==null?void 0:p.type)==="id"&&Object.keys(v.state.data).forEach(function(k){if(k.match(new RegExp("^".concat(p.name,"[0-9]*$")))){var E=v.state.data[k];v.linkContext.IDs.includes(E)||v.linkContext.IDs.push(E)}})})}),c=0;case 2:if(!(c<this.linkContext.IDs.length)){f.next=8;break}return f.next=5,this.getIdSubscribeState(this.linkContext.IDs[c],this.onStateChanged);case 5:c++,f.next=2;break;case 8:case"end":return f.stop()}},n,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"componentWillUnmount",value:function(){var t=this;this.linkContext.IDs.forEach(function(n){return t.props.socket.unsubscribeState(n,t.onStateChanged)})}},{key:"getWidgetView",value:function(t,n){return d.default.createElement("div",{style:{width:"100%",height:"100%"}},"DEMO VIEW")}},{key:"render",value:function(){var t,n;return d.default.createElement("div",{style:{width:(t=this.state.style)===null||t===void 0?void 0:t.width,height:(n=this.state.style)===null||n===void 0?void 0:n.height}},this.renderWidgetBody())}}],[{key:"getI18nPrefix",value:function(){return""}},{key:"getText",value:function(t){return(0,P.default)(t)==="object"?t[h.I18n.getLanguage()]||t.en:t}},{key:"t",value:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return h.I18n.t.apply(h.I18n,["".concat(this.getI18nPrefix()).concat(t)].concat(r))}},{key:"getLanguage",value:function(){return h.I18n.getLanguage()}}]),i}(d.default.Component),U=V;g.Z=U}}]);

//# sourceMappingURL=node_modules_iobroker_vis-2-widgets-react-dev_index_jsx-_adb40.12e3d0cf.chunk.js.map