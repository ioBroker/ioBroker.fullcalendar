"use strict";(self.webpackChunkiobroker_vis_2_widgets_fullcalendar=self.webpackChunkiobroker_vis_2_widgets_fullcalendar||[]).push([["node_modules_iobroker_vis-2-widgets-react-dev_index_jsx-_adb41","node_modules_iobroker_vis-2-widgets-react-dev_index_jsx-_adb40"],{97345:function(t,e,n){var r=n(64836);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var a=r(n(64687)),i=r(n(18698)),o=r(n(17156)),u=r(n(56690)),s=r(n(89728)),c=r(n(66115)),l=r(n(61655)),f=r(n(94993)),d=r(n(73808)),h=r(n(38416)),v=r(n(4819)),p=n(75606);function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){(0,h.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,d.default)(t);if(e){var a=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}var k=function(t){(0,l.default)(n,t);var e=b(n);function n(t){var r;return(0,u.default)(this,n),r=e.call(this,t),(0,h.default)((0,c.default)(r),"getIdSubscribeState",(function(t,e){return r.props.socket.getState(t).then((function(n){return e(t,n),r.props.socket.subscribeState(t,(function(n,r){return e(t,r)}))}))})),r.onStateChanged=r.onStateChanged.bind((0,c.default)(r)),r.state=g(g({},t),{},{values:{},data:JSON.parse(JSON.stringify(t.data||{})),style:JSON.parse(JSON.stringify(t.style||{})),rxData:JSON.parse(JSON.stringify(t.data||{})),rxStyle:JSON.parse(JSON.stringify(t.style||{}))}),r.linkContext={IDs:[]},r}return(0,s.default)(n,[{key:"renderWidgetBody",value:function(){}},{key:"onStateUpdated",value:function(t,e){}},{key:"formatValue",value:function(t,e){var n;"number"===typeof t&&(t=0===e?Math.round(t):Math.round(100*t)/100,null!==(n=this.props.systemConfig)&&void 0!==n&&n.common&&this.props.systemConfig.common.isFloatComma&&(t=t.toString().replace(".",",")));return void 0===t||null===t?"":t.toString()}},{key:"wrapContent",value:function(t,e,n,r,a,i){var o=i.Card,u=i.CardContent;return v.default.createElement(o,{style:{width:"calc(100% - 8px)",height:"calc(100% - 8px)",margin:4},onClick:a},v.default.createElement(u,{style:g({display:"flex",flexDirection:"column",alignItems:"center",height:"100%",position:"relative"},n)},this.state.rxData.name?v.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"}},v.default.createElement("div",{style:g({fontSize:24,paddingTop:0,paddingBottom:4},r)},this.state.rxData.name),e||null):e||null,t))}},{key:"onStateChanged",value:function(t,e){if(e){var n=JSON.parse(JSON.stringify(this.state.values));Object.keys(e).forEach((function(r){return n["".concat(t,".").concat(r)]=e[r]})),this.onStateUpdated(t,e),this.setState({values:n})}}},{key:"componentDidMount",value:function(){var t=(0,o.default)(a.default.mark((function t(){var e,n,r,i=this;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(e=this.getWidgetInfo())||void 0===e||null===(n=e.visAttrs)||void 0===n||n.forEach((function(t){var e;return null===t||void 0===t||null===(e=t.fields)||void 0===e?void 0:e.forEach((function(t){"id"===(null===t||void 0===t?void 0:t.type)&&Object.keys(i.state.data).forEach((function(e){if(e.match(new RegExp("^".concat(t.name,"[0-9]*$")))){var n=i.state.data[e];i.linkContext.IDs.includes(n)||i.linkContext.IDs.push(n)}}))}))})),r=0;case 2:if(!(r<this.linkContext.IDs.length)){t.next=8;break}return t.next=5,this.getIdSubscribeState(this.linkContext.IDs[r],this.onStateChanged);case 5:r++,t.next=2;break;case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var t=this;this.linkContext.IDs.forEach((function(e){return t.props.socket.unsubscribeState(e,t.onStateChanged)}))}},{key:"getWidgetView",value:function(t,e){return v.default.createElement("div",{style:{width:"100%",height:"100%"}},"DEMO VIEW")}},{key:"render",value:function(){var t,e;return v.default.createElement("div",{style:{width:null===(t=this.state.style)||void 0===t?void 0:t.width,height:null===(e=this.state.style)||void 0===e?void 0:e.height}},this.renderWidgetBody())}}],[{key:"getI18nPrefix",value:function(){return""}},{key:"getText",value:function(t){return"object"===(0,i.default)(t)?t[p.I18n.getLanguage()]||t.en:t}},{key:"t",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return p.I18n.t.apply(p.I18n,["".concat(this.getI18nPrefix()).concat(t)].concat(n))}},{key:"getLanguage",value:function(){return p.I18n.getLanguage()}}]),n}(v.default.Component),m=k;e.Z=m},25582:function(t,e,n){n.r(e),n.d(e,{VisRxWidget:function(){return r.Z},__esModule:function(){return r.X}});var r=n(97345)}}]);
//# sourceMappingURL=node_modules_iobroker_vis-2-widgets-react-dev_index_jsx-_adb41.9b66323c.chunk.js.map