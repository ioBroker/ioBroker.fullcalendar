{"version":3,"file":"static/js/node_modules_iobroker_vis-2-widgets-react-dev_index_jsx-_adb41.72743778.chunk.js","mappings":"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","sources":["../node_modules/@iobroker/vis-2-widgets-react-dev/visRxWidget.jsx"],"sourcesContent":["import React from 'react';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nclass visRxWidget extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onStateChanged = this.onStateChanged.bind(this);\n        this.state = {\n            ...props,\n            values: {},\n            data: JSON.parse(JSON.stringify(props.data || {})),\n            style: JSON.parse(JSON.stringify(props.style || {})),\n            rxData: JSON.parse(JSON.stringify(props.data || {})),\n            rxStyle: JSON.parse(JSON.stringify(props.style || {})),\n        };\n        this.linkContext = {\n            IDs: [],\n        };\n    }\n\n    static getI18nPrefix() {\n        return '';\n    }\n\n    static getText(text) {\n        if (typeof text === 'object') {\n            return text[I18n.getLanguage()] || text.en;\n        }\n        return text;\n    }\n\n    static t(key, ...args) {\n        return I18n.t(`${this.getI18nPrefix()}${key}`, ...args);\n    }\n\n    static getLanguage() {\n        return I18n.getLanguage();\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    renderWidgetBody() {\n\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    // @ts-ignore\n    onStateUpdated(id, state) {\n\n    }\n\n    formatValue(value, round) {\n        if (typeof value === 'number') {\n            if (round === 0) {\n                value = Math.round(value);\n            } else {\n                value = Math.round(value * 100) / 100;\n            }\n            if (this.props.systemConfig?.common) {\n                if (this.props.systemConfig.common.isFloatComma) {\n                    value = value.toString().replace('.', ',');\n                }\n            }\n        }\n\n        return value === undefined || value === null ? '' : value.toString();\n    }\n\n    wrapContent(content, addToHeader, cardContentStyle, headerStyle, onCardClick, components) {\n        const Card = components.Card;\n        const CardContent = components.CardContent;\n\n        return <Card\n            style={{ width: 'calc(100% - 8px)', height: 'calc(100% - 8px)', margin: 4 }}\n            onClick={onCardClick}\n        >\n            <CardContent\n                style={{\n                    display: 'flex',\n                    flexDirection: 'column',\n                    alignItems: 'center',\n                    height: '100%',\n                    position: 'relative',\n                    ...cardContentStyle,\n                }}\n            >\n                {this.state.rxData.name ? <div\n                    style={{\n                        display: 'flex',\n                        justifyContent: 'space-between',\n                        width: '100%',\n                        alignItems: 'center',\n                    }}\n                >\n                    <div\n                        style={{\n                            fontSize: 24,\n                            paddingTop: 0,\n                            paddingBottom: 4,\n                            ...headerStyle,\n                        }}\n                    >\n                        {this.state.rxData.name}\n                    </div>\n                    {addToHeader || null}\n                </div> : (addToHeader || null)}\n                {content}\n            </CardContent>\n        </Card>;\n    }\n\n    getIdSubscribeState = (id, cb) => {\n        return this.props.socket.getState(id)\n            .then(result => {\n                cb(id, result);\n                return this.props.socket.subscribeState(id, (resultId, result) => cb(id, result));\n            });\n    };\n\n    onStateChanged(id, state) {\n        if (!state) {\n            return;\n        }\n        const values = JSON.parse(JSON.stringify(this.state.values));\n        Object.keys(state).forEach(key =>\n            values[`${id}.${key}`] = state[key]);\n\n        this.onStateUpdated(id, state);\n\n        this.setState({ values });\n    }\n\n    async componentDidMount() {\n        this.getWidgetInfo()?.visAttrs?.forEach(group =>\n            group?.fields?.forEach(field => {\n                if (field?.type === 'id') {\n                    Object.keys(this.state.data).forEach(dataKey => {\n                        // do not use here \\d instead of [0-9] as it will be wrong compiled\n                        if (dataKey.match(new RegExp(`^${field.name}[0-9]*$`))) {\n                            const oid = this.state.data[dataKey];\n                            if (!this.linkContext.IDs.includes(oid)) {\n                                this.linkContext.IDs.push(oid);\n                            }\n                        }\n                    });\n                }\n            }));\n\n        for (let i = 0; i < this.linkContext.IDs.length; i++) {\n            await this.getIdSubscribeState(this.linkContext.IDs[i], this.onStateChanged);\n        }\n    }\n\n    componentWillUnmount() {\n        this.linkContext.IDs.forEach(oid =>\n            this.props.socket.unsubscribeState(oid, this.onStateChanged));\n    }\n\n    getWidgetView(view, props) {\n        return <div style={{ width: '100%', height: '100%' }}>\n            DEMO VIEW\n        </div>;\n    }\n\n    render() {\n        return <div style={{ width: this.state.style?.width, height: this.state.style?.height }}>\n            {this.renderWidgetBody()}\n        </div>;\n    }\n}\n\nexport default visRxWidget;\n"],"names":["_react","_interopRequireDefault","require","_adapterReactV","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","_isNativeReflectConstruct","result","Super","_getPrototypeOf2","NewTarget","constructor","_possibleConstructorReturn2","visRxWidget","_React$Component","_inherits2","_super","props","_this","_classCallCheck2","_assertThisInitialized2","id","cb","socket","getState","then","subscribeState","resultId","onStateChanged","bind","state","values","data","JSON","parse","stringify","style","rxData","rxStyle","linkContext","IDs","_createClass2","value","round","_this$props$systemCon","Math","this","systemConfig","common","isFloatComma","toString","replace","undefined","content","addToHeader","cardContentStyle","headerStyle","onCardClick","components","Card","CardContent","createElement","width","height","margin","onClick","display","flexDirection","alignItems","position","name","justifyContent","fontSize","paddingTop","paddingBottom","concat","onStateUpdated","setState","_componentDidMount","_asyncToGenerator2","_regenerator","mark","_callee","_this$getWidgetInfo","_this$getWidgetInfo$v","_this2","wrap","_context","prev","next","getWidgetInfo","visAttrs","group","_group$fields","fields","field","type","dataKey","match","RegExp","oid","includes","getIdSubscribeState","stop","_this3","unsubscribeState","view","_this$state$style","_this$state$style2","renderWidgetBody","text","_typeof2","I18n","getLanguage","en","_len","args","Array","_key","t","getI18nPrefix","Component","_default","exports"],"sourceRoot":""}